\hypertarget{timer_8h}{\section{include/caribou/kernel/timer.h File Reference}
\label{timer_8h}\index{include/caribou/kernel/timer.\-h@{include/caribou/kernel/timer.\-h}}
}
{\ttfamily \#include $<$caribou/kernel/types.\-h$>$}\\*
{\ttfamily \#include $<$chip/chip.\-h$>$}\\*
Include dependency graph for timer.\-h\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=349pt]{timer_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timer_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct__caribou__timer__t}{\-\_\-caribou\-\_\-timer\-\_\-t}
\begin{DoxyCompactList}\small\item\em The caribou\-\_\-timer\-\_\-t structure defines the data structure used by C\-A\-R\-I\-B\-O\-U to maintain timers and sleep periods. The structure elements should not me manipulated by the application program, and are subject to change in future releases. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{timer_8h_aa46365ee9a215f73eb64836fd0e0f16a}{C\-A\-R\-I\-B\-O\-U\-\_\-\-T\-I\-M\-E\-R\-\_\-\-F\-\_\-\-D\-Y\-N\-A\-M\-I\-C}~0x01
\begin{DoxyCompactList}\small\item\em If the C\-A\-R\-I\-B\-O\-U\-\_\-\-T\-I\-M\-E\-R\-\_\-\-F\-\_\-\-D\-Y\-N\-A\-M\-I\-C flag is set, then it indicates that the timer was dynamically allocated on the heap with \hyperlink{timer_8h_ace2850a12ae1873a6707e74692f1526e}{caribou\-\_\-timer\-\_\-create()}, and so will be disposed of properly by \hyperlink{timer_8h_ab4d53bf750af4477abae9e82f0419265}{caribou\-\_\-timer\-\_\-delete()}. Otherwise, if the C\-A\-R\-I\-B\-O\-U\-\_\-\-T\-I\-M\-E\-R\-\_\-\-F\-\_\-\-D\-Y\-N\-A\-M\-I\-C is not set, then it is assumed that it is a statically allocated, or stack allocated instance of a caribou\-\_\-timer\-\_\-t structure, and so \hyperlink{timer_8h_ab4d53bf750af4477abae9e82f0419265}{caribou\-\_\-timer\-\_\-delete()} will make no attempt to de-\/allocate the memory associated with the timer structure. \end{DoxyCompactList}\item 
\#define \hyperlink{timer_8h_acaa411bda0f9b6f2197755ba2ea767e3}{C\-A\-R\-I\-B\-O\-U\-\_\-\-T\-I\-M\-E\-R\-\_\-\-F\-\_\-\-O\-N\-E\-S\-H\-O\-T}~0x02
\begin{DoxyCompactList}\small\item\em Normally a caribou\-\_\-timer\-\_\-t will trigger a timeout callback upon the termination of the timeout period, and once the callback is serviced, the period counter is then reloaded and the timer restarted, such that the timer will repeat automatically at the specified period. If the C\-A\-R\-I\-B\-O\-U\-\_\-\-T\-I\-M\-E\-R\-\_\-\-F\-\_\-\-O\-N\-E\-S\-H\-O\-T flag is set, then the timer callback is called exactly once at the first expiration of the period counter. In either case, calling \hyperlink{timer_8h_ae91992e348922aa6cad60eaed72ffb33}{caribou\-\_\-timer\-\_\-reset()} will re-\/load the period counter and start the timer again. \end{DoxyCompactList}\item 
\#define \hyperlink{timer_8h_ad8b3b5bf41af0b0d8ea1bb952fd8faa2}{from\-\_\-ms}(msec)~(msec/J\-I\-F\-F\-I\-E\-S)
\begin{DoxyCompactList}\small\item\em The \hyperlink{timer_8h_ad8b3b5bf41af0b0d8ea1bb952fd8faa2}{from\-\_\-ms(msec)} macro convert from milliseconds to native clock ticks. \end{DoxyCompactList}\item 
\#define \hyperlink{timer_8h_ad1f4980db70ae03a492086ad94c21d45}{to\-\_\-ms}(ticks)~(ticks$\ast$J\-I\-F\-F\-I\-E\-S)
\begin{DoxyCompactList}\small\item\em The \hyperlink{timer_8h_ad1f4980db70ae03a492086ad94c21d45}{to\-\_\-ms(ticks)} macro converts from native clock ticks to milliseconds. \end{DoxyCompactList}\item 
\#define \hyperlink{timer_8h_aca6e8644c807a4f3954d492db38195fa}{T\-I\-M\-E\-O\-U\-T\-\_\-\-I\-N\-F\-I\-N\-I\-T\-E}~0
\begin{DoxyCompactList}\small\item\em Several C\-A\-R\-I\-B\-O\-U functions take a timeout value as a parameter. In those cases, The T\-I\-M\-E\-O\-U\-T\-\_\-\-I\-N\-F\-I\-N\-I\-T\-E constant may be used to indicate that the timeout period should be infinite. \end{DoxyCompactList}\item 
\#define \hyperlink{timer_8h_a11fe7f6fa66d469035362e8b9d65208a}{T\-I\-M\-E\-O\-U\-T\-\_\-\-I\-M\-M\-E\-D\-I\-A\-T\-E}~-\/1
\begin{DoxyCompactList}\small\item\em Several C\-A\-R\-I\-B\-O\-U functions take a timeout value as a parameter. In those cases, The T\-I\-M\-E\-O\-U\-T\-\_\-\-I\-M\-M\-E\-D\-I\-A\-T\-E constant may be used to indicate that the timeout period should be immediate, such that the function call always returns immediately. \end{DoxyCompactList}\item 
\#define \hyperlink{timer_8h_a905a26361b93888fedb5a0bf658e50e8}{caribou\-\_\-tick\-\_\-t}~int64\-\_\-t
\begin{DoxyCompactList}\small\item\em The caribou\-\_\-tick\-\_\-t macro should be used at the data type whenever referring to the native tick (J\-I\-F\-F\-Y) counter data type. In some cases it may be desirable to make it a 64 bit value, and in others 32 bit for instance. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef void $\ast$( \hyperlink{timer_8h_af991f5bbba685d64fd4a78090140228b}{caribou\-\_\-timer\-\_\-callback\-\_\-fn} )(void $\ast$thread, struct \hyperlink{struct__caribou__timer__t}{\-\_\-caribou\-\_\-timer\-\_\-t} $\ast$timer, void $\ast$arg)
\item 
typedef struct \hyperlink{struct__caribou__timer__t}{\-\_\-caribou\-\_\-timer\-\_\-t} \hyperlink{timer_8h_a83310ffb8b0e689ad504298d2b80ead7}{caribou\-\_\-timer\-\_\-t}
\begin{DoxyCompactList}\small\item\em The caribou\-\_\-timer\-\_\-t structure defines the data structure used by C\-A\-R\-I\-B\-O\-U to maintain timers and sleep periods. The structure elements should not me manipulated by the application program, and are subject to change in future releases. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{timer_8h_a7c36856ed5dc5d4ffa6b51c70c31b103}{caribou\-\_\-timer\-\_\-period} (void)
\item 
\hyperlink{timer_8h_a905a26361b93888fedb5a0bf658e50e8}{caribou\-\_\-tick\-\_\-t} \hyperlink{timer_8h_af4de79ca10bf334bc040c617748a09b5}{caribou\-\_\-timer\-\_\-ticks} (void)
\item 
\hyperlink{types_8h_abb452686968e48b67397da5f97445f5b}{bool} \hyperlink{timer_8h_aa9bf47c9bda777efccc41168d8597a99}{caribou\-\_\-timer\-\_\-ticks\-\_\-timeout} (\hyperlink{timer_8h_a905a26361b93888fedb5a0bf658e50e8}{caribou\-\_\-tick\-\_\-t} start, \hyperlink{timer_8h_a905a26361b93888fedb5a0bf658e50e8}{caribou\-\_\-tick\-\_\-t} timeout)
\begin{DoxyCompactList}\small\item\em Determine of the timeout period has expired in relationn to the start time. \end{DoxyCompactList}\item 
\hyperlink{timer_8h_a83310ffb8b0e689ad504298d2b80ead7}{caribou\-\_\-timer\-\_\-t} $\ast$ \hyperlink{timer_8h_ace2850a12ae1873a6707e74692f1526e}{caribou\-\_\-timer\-\_\-create} (\hyperlink{timer_8h_af991f5bbba685d64fd4a78090140228b}{caribou\-\_\-timer\-\_\-callback\-\_\-fn} $\ast$timerfn, void $\ast$arg, uint8\-\_\-t flags)
\begin{DoxyCompactList}\small\item\em Instantiate a new timer on the heap memory, and associate it with the current thread.  timerfn The timer callback function. \end{DoxyCompactList}\item 
\hyperlink{timer_8h_a83310ffb8b0e689ad504298d2b80ead7}{caribou\-\_\-timer\-\_\-t} $\ast$ \hyperlink{timer_8h_a53167bc3176eb8b8558960022da4b347}{caribou\-\_\-timer\-\_\-init} (\hyperlink{timer_8h_a83310ffb8b0e689ad504298d2b80ead7}{caribou\-\_\-timer\-\_\-t} $\ast$timer, \hyperlink{timer_8h_af991f5bbba685d64fd4a78090140228b}{caribou\-\_\-timer\-\_\-callback\-\_\-fn} $\ast$timerfn, void $\ast$arg, uint8\-\_\-t flags)
\item 
\hyperlink{timer_8h_a83310ffb8b0e689ad504298d2b80ead7}{caribou\-\_\-timer\-\_\-t} $\ast$ \hyperlink{timer_8h_ae91992e348922aa6cad60eaed72ffb33}{caribou\-\_\-timer\-\_\-reset} (\hyperlink{timer_8h_a83310ffb8b0e689ad504298d2b80ead7}{caribou\-\_\-timer\-\_\-t} $\ast$timer)
\item 
\hyperlink{timer_8h_a83310ffb8b0e689ad504298d2b80ead7}{caribou\-\_\-timer\-\_\-t} $\ast$ \hyperlink{timer_8h_aae6ec887f8433688572e15aa31358cad}{caribou\-\_\-timer\-\_\-set} (\hyperlink{timer_8h_a83310ffb8b0e689ad504298d2b80ead7}{caribou\-\_\-timer\-\_\-t} $\ast$timer, uint32\-\_\-t ticks)
\item 
\hyperlink{types_8h_abb452686968e48b67397da5f97445f5b}{bool} \hyperlink{timer_8h_ab84793cb51da82b84f9bcf0f3e2d8a38}{caribou\-\_\-timer\-\_\-expired} (\hyperlink{timer_8h_a83310ffb8b0e689ad504298d2b80ead7}{caribou\-\_\-timer\-\_\-t} $\ast$timer)
\begin{DoxyCompactList}\small\item\em The \hyperlink{timer_8c_ab84793cb51da82b84f9bcf0f3e2d8a38}{caribou\-\_\-timer\-\_\-expired()} function is used to determine if a timer has expired. \end{DoxyCompactList}\item 
void \hyperlink{timer_8h_ab4d53bf750af4477abae9e82f0419265}{caribou\-\_\-timer\-\_\-delete} (void $\ast$thread, \hyperlink{timer_8h_a83310ffb8b0e689ad504298d2b80ead7}{caribou\-\_\-timer\-\_\-t} $\ast$timer)
\item 
void \hyperlink{timer_8h_a2fb2be42014552a26baec4de547fbbb3}{caribou\-\_\-timer\-\_\-delete\-\_\-all} (void $\ast$thread)
\item 
void \hyperlink{timer_8h_ae34fe410deb6119c6feed5e0eda80e4c}{caribou\-\_\-timer\-\_\-usec\-\_\-delay} (uint32\-\_\-t usecs)
\begin{DoxyCompactList}\small\item\em microsecond delay \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{timer_8h_a905a26361b93888fedb5a0bf658e50e8}{\index{timer.\-h@{timer.\-h}!caribou\-\_\-tick\-\_\-t@{caribou\-\_\-tick\-\_\-t}}
\index{caribou\-\_\-tick\-\_\-t@{caribou\-\_\-tick\-\_\-t}!timer.h@{timer.\-h}}
\subsubsection[{caribou\-\_\-tick\-\_\-t}]{\setlength{\rightskip}{0pt plus 5cm}\#define caribou\-\_\-tick\-\_\-t~int64\-\_\-t}}\label{timer_8h_a905a26361b93888fedb5a0bf658e50e8}


The caribou\-\_\-tick\-\_\-t macro should be used at the data type whenever referring to the native tick (J\-I\-F\-F\-Y) counter data type. In some cases it may be desirable to make it a 64 bit value, and in others 32 bit for instance. 



Definition at line 97 of file timer.\-h.

\hypertarget{timer_8h_aa46365ee9a215f73eb64836fd0e0f16a}{\index{timer.\-h@{timer.\-h}!C\-A\-R\-I\-B\-O\-U\-\_\-\-T\-I\-M\-E\-R\-\_\-\-F\-\_\-\-D\-Y\-N\-A\-M\-I\-C@{C\-A\-R\-I\-B\-O\-U\-\_\-\-T\-I\-M\-E\-R\-\_\-\-F\-\_\-\-D\-Y\-N\-A\-M\-I\-C}}
\index{C\-A\-R\-I\-B\-O\-U\-\_\-\-T\-I\-M\-E\-R\-\_\-\-F\-\_\-\-D\-Y\-N\-A\-M\-I\-C@{C\-A\-R\-I\-B\-O\-U\-\_\-\-T\-I\-M\-E\-R\-\_\-\-F\-\_\-\-D\-Y\-N\-A\-M\-I\-C}!timer.h@{timer.\-h}}
\subsubsection[{C\-A\-R\-I\-B\-O\-U\-\_\-\-T\-I\-M\-E\-R\-\_\-\-F\-\_\-\-D\-Y\-N\-A\-M\-I\-C}]{\setlength{\rightskip}{0pt plus 5cm}\#define C\-A\-R\-I\-B\-O\-U\-\_\-\-T\-I\-M\-E\-R\-\_\-\-F\-\_\-\-D\-Y\-N\-A\-M\-I\-C~0x01}}\label{timer_8h_aa46365ee9a215f73eb64836fd0e0f16a}


If the C\-A\-R\-I\-B\-O\-U\-\_\-\-T\-I\-M\-E\-R\-\_\-\-F\-\_\-\-D\-Y\-N\-A\-M\-I\-C flag is set, then it indicates that the timer was dynamically allocated on the heap with \hyperlink{timer_8h_ace2850a12ae1873a6707e74692f1526e}{caribou\-\_\-timer\-\_\-create()}, and so will be disposed of properly by \hyperlink{timer_8h_ab4d53bf750af4477abae9e82f0419265}{caribou\-\_\-timer\-\_\-delete()}. Otherwise, if the C\-A\-R\-I\-B\-O\-U\-\_\-\-T\-I\-M\-E\-R\-\_\-\-F\-\_\-\-D\-Y\-N\-A\-M\-I\-C is not set, then it is assumed that it is a statically allocated, or stack allocated instance of a caribou\-\_\-timer\-\_\-t structure, and so \hyperlink{timer_8h_ab4d53bf750af4477abae9e82f0419265}{caribou\-\_\-timer\-\_\-delete()} will make no attempt to de-\/allocate the memory associated with the timer structure. 



Definition at line 37 of file timer.\-h.

\hypertarget{timer_8h_acaa411bda0f9b6f2197755ba2ea767e3}{\index{timer.\-h@{timer.\-h}!C\-A\-R\-I\-B\-O\-U\-\_\-\-T\-I\-M\-E\-R\-\_\-\-F\-\_\-\-O\-N\-E\-S\-H\-O\-T@{C\-A\-R\-I\-B\-O\-U\-\_\-\-T\-I\-M\-E\-R\-\_\-\-F\-\_\-\-O\-N\-E\-S\-H\-O\-T}}
\index{C\-A\-R\-I\-B\-O\-U\-\_\-\-T\-I\-M\-E\-R\-\_\-\-F\-\_\-\-O\-N\-E\-S\-H\-O\-T@{C\-A\-R\-I\-B\-O\-U\-\_\-\-T\-I\-M\-E\-R\-\_\-\-F\-\_\-\-O\-N\-E\-S\-H\-O\-T}!timer.h@{timer.\-h}}
\subsubsection[{C\-A\-R\-I\-B\-O\-U\-\_\-\-T\-I\-M\-E\-R\-\_\-\-F\-\_\-\-O\-N\-E\-S\-H\-O\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define C\-A\-R\-I\-B\-O\-U\-\_\-\-T\-I\-M\-E\-R\-\_\-\-F\-\_\-\-O\-N\-E\-S\-H\-O\-T~0x02}}\label{timer_8h_acaa411bda0f9b6f2197755ba2ea767e3}


Normally a caribou\-\_\-timer\-\_\-t will trigger a timeout callback upon the termination of the timeout period, and once the callback is serviced, the period counter is then reloaded and the timer restarted, such that the timer will repeat automatically at the specified period. If the C\-A\-R\-I\-B\-O\-U\-\_\-\-T\-I\-M\-E\-R\-\_\-\-F\-\_\-\-O\-N\-E\-S\-H\-O\-T flag is set, then the timer callback is called exactly once at the first expiration of the period counter. In either case, calling \hyperlink{timer_8h_ae91992e348922aa6cad60eaed72ffb33}{caribou\-\_\-timer\-\_\-reset()} will re-\/load the period counter and start the timer again. 



Definition at line 47 of file timer.\-h.

\hypertarget{timer_8h_ad8b3b5bf41af0b0d8ea1bb952fd8faa2}{\index{timer.\-h@{timer.\-h}!from\-\_\-ms@{from\-\_\-ms}}
\index{from\-\_\-ms@{from\-\_\-ms}!timer.h@{timer.\-h}}
\subsubsection[{from\-\_\-ms}]{\setlength{\rightskip}{0pt plus 5cm}\#define from\-\_\-ms(
\begin{DoxyParamCaption}
\item[{}]{msec}
\end{DoxyParamCaption}
)~(msec/J\-I\-F\-F\-I\-E\-S)}}\label{timer_8h_ad8b3b5bf41af0b0d8ea1bb952fd8faa2}


The \hyperlink{timer_8h_ad8b3b5bf41af0b0d8ea1bb952fd8faa2}{from\-\_\-ms(msec)} macro convert from milliseconds to native clock ticks. 



Definition at line 71 of file timer.\-h.

\hypertarget{timer_8h_a11fe7f6fa66d469035362e8b9d65208a}{\index{timer.\-h@{timer.\-h}!T\-I\-M\-E\-O\-U\-T\-\_\-\-I\-M\-M\-E\-D\-I\-A\-T\-E@{T\-I\-M\-E\-O\-U\-T\-\_\-\-I\-M\-M\-E\-D\-I\-A\-T\-E}}
\index{T\-I\-M\-E\-O\-U\-T\-\_\-\-I\-M\-M\-E\-D\-I\-A\-T\-E@{T\-I\-M\-E\-O\-U\-T\-\_\-\-I\-M\-M\-E\-D\-I\-A\-T\-E}!timer.h@{timer.\-h}}
\subsubsection[{T\-I\-M\-E\-O\-U\-T\-\_\-\-I\-M\-M\-E\-D\-I\-A\-T\-E}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\-I\-M\-E\-O\-U\-T\-\_\-\-I\-M\-M\-E\-D\-I\-A\-T\-E~-\/1}}\label{timer_8h_a11fe7f6fa66d469035362e8b9d65208a}


Several C\-A\-R\-I\-B\-O\-U functions take a timeout value as a parameter. In those cases, The T\-I\-M\-E\-O\-U\-T\-\_\-\-I\-M\-M\-E\-D\-I\-A\-T\-E constant may be used to indicate that the timeout period should be immediate, such that the function call always returns immediately. 



Definition at line 89 of file timer.\-h.

\hypertarget{timer_8h_aca6e8644c807a4f3954d492db38195fa}{\index{timer.\-h@{timer.\-h}!T\-I\-M\-E\-O\-U\-T\-\_\-\-I\-N\-F\-I\-N\-I\-T\-E@{T\-I\-M\-E\-O\-U\-T\-\_\-\-I\-N\-F\-I\-N\-I\-T\-E}}
\index{T\-I\-M\-E\-O\-U\-T\-\_\-\-I\-N\-F\-I\-N\-I\-T\-E@{T\-I\-M\-E\-O\-U\-T\-\_\-\-I\-N\-F\-I\-N\-I\-T\-E}!timer.h@{timer.\-h}}
\subsubsection[{T\-I\-M\-E\-O\-U\-T\-\_\-\-I\-N\-F\-I\-N\-I\-T\-E}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\-I\-M\-E\-O\-U\-T\-\_\-\-I\-N\-F\-I\-N\-I\-T\-E~0}}\label{timer_8h_aca6e8644c807a4f3954d492db38195fa}


Several C\-A\-R\-I\-B\-O\-U functions take a timeout value as a parameter. In those cases, The T\-I\-M\-E\-O\-U\-T\-\_\-\-I\-N\-F\-I\-N\-I\-T\-E constant may be used to indicate that the timeout period should be infinite. 



Definition at line 82 of file timer.\-h.

\hypertarget{timer_8h_ad1f4980db70ae03a492086ad94c21d45}{\index{timer.\-h@{timer.\-h}!to\-\_\-ms@{to\-\_\-ms}}
\index{to\-\_\-ms@{to\-\_\-ms}!timer.h@{timer.\-h}}
\subsubsection[{to\-\_\-ms}]{\setlength{\rightskip}{0pt plus 5cm}\#define to\-\_\-ms(
\begin{DoxyParamCaption}
\item[{}]{ticks}
\end{DoxyParamCaption}
)~(ticks$\ast$J\-I\-F\-F\-I\-E\-S)}}\label{timer_8h_ad1f4980db70ae03a492086ad94c21d45}


The \hyperlink{timer_8h_ad1f4980db70ae03a492086ad94c21d45}{to\-\_\-ms(ticks)} macro converts from native clock ticks to milliseconds. 



Definition at line 75 of file timer.\-h.



\subsection{Typedef Documentation}
\hypertarget{timer_8h_af991f5bbba685d64fd4a78090140228b}{\index{timer.\-h@{timer.\-h}!caribou\-\_\-timer\-\_\-callback\-\_\-fn@{caribou\-\_\-timer\-\_\-callback\-\_\-fn}}
\index{caribou\-\_\-timer\-\_\-callback\-\_\-fn@{caribou\-\_\-timer\-\_\-callback\-\_\-fn}!timer.h@{timer.\-h}}
\subsubsection[{caribou\-\_\-timer\-\_\-callback\-\_\-fn}]{\setlength{\rightskip}{0pt plus 5cm}typedef void$\ast$( caribou\-\_\-timer\-\_\-callback\-\_\-fn)(void $\ast$thread, struct {\bf \-\_\-caribou\-\_\-timer\-\_\-t} $\ast$timer, void $\ast$arg)}}\label{timer_8h_af991f5bbba685d64fd4a78090140228b}


Definition at line 49 of file timer.\-h.

\hypertarget{timer_8h_a83310ffb8b0e689ad504298d2b80ead7}{\index{timer.\-h@{timer.\-h}!caribou\-\_\-timer\-\_\-t@{caribou\-\_\-timer\-\_\-t}}
\index{caribou\-\_\-timer\-\_\-t@{caribou\-\_\-timer\-\_\-t}!timer.h@{timer.\-h}}
\subsubsection[{caribou\-\_\-timer\-\_\-t}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf \-\_\-caribou\-\_\-timer\-\_\-t}  {\bf caribou\-\_\-timer\-\_\-t}}}\label{timer_8h_a83310ffb8b0e689ad504298d2b80ead7}


The caribou\-\_\-timer\-\_\-t structure defines the data structure used by C\-A\-R\-I\-B\-O\-U to maintain timers and sleep periods. The structure elements should not me manipulated by the application program, and are subject to change in future releases. 



\subsection{Function Documentation}
\hypertarget{timer_8h_ace2850a12ae1873a6707e74692f1526e}{\index{timer.\-h@{timer.\-h}!caribou\-\_\-timer\-\_\-create@{caribou\-\_\-timer\-\_\-create}}
\index{caribou\-\_\-timer\-\_\-create@{caribou\-\_\-timer\-\_\-create}!timer.h@{timer.\-h}}
\subsubsection[{caribou\-\_\-timer\-\_\-create}]{\setlength{\rightskip}{0pt plus 5cm}{\bf caribou\-\_\-timer\-\_\-t}$\ast$ caribou\-\_\-timer\-\_\-create (
\begin{DoxyParamCaption}
\item[{{\bf caribou\-\_\-timer\-\_\-callback\-\_\-fn} $\ast$}]{timerfn, }
\item[{void $\ast$}]{arg, }
\item[{uint8\-\_\-t}]{flags}
\end{DoxyParamCaption}
)}}\label{timer_8h_ace2850a12ae1873a6707e74692f1526e}


Instantiate a new timer on the heap memory, and associate it with the current thread.  timerfn The timer callback function. 


\begin{DoxyParams}{Parameters}
{\em arg} & Arguments to pass to the callback function \\
\hline
{\em flags} & Timer flags \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to the newly allocated caribou\-\_\-timer\-\_\-t$\ast$ structure instance, or N\-U\-L\-L if a problem was encountered. 
\end{DoxyReturn}


Definition at line 126 of file timer.\-c.



Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timer_8h_ace2850a12ae1873a6707e74692f1526e_cgraph}
\end{center}
\end{figure}


\hypertarget{timer_8h_ab4d53bf750af4477abae9e82f0419265}{\index{timer.\-h@{timer.\-h}!caribou\-\_\-timer\-\_\-delete@{caribou\-\_\-timer\-\_\-delete}}
\index{caribou\-\_\-timer\-\_\-delete@{caribou\-\_\-timer\-\_\-delete}!timer.h@{timer.\-h}}
\subsubsection[{caribou\-\_\-timer\-\_\-delete}]{\setlength{\rightskip}{0pt plus 5cm}void caribou\-\_\-timer\-\_\-delete (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{thread, }
\item[{{\bf caribou\-\_\-timer\-\_\-t} $\ast$}]{timer}
\end{DoxyParamCaption}
)}}\label{timer_8h_ab4d53bf750af4477abae9e82f0419265}


Definition at line 202 of file timer.\-c.



Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timer_8h_ab4d53bf750af4477abae9e82f0419265_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timer_8h_ab4d53bf750af4477abae9e82f0419265_icgraph}
\end{center}
\end{figure}


\hypertarget{timer_8h_a2fb2be42014552a26baec4de547fbbb3}{\index{timer.\-h@{timer.\-h}!caribou\-\_\-timer\-\_\-delete\-\_\-all@{caribou\-\_\-timer\-\_\-delete\-\_\-all}}
\index{caribou\-\_\-timer\-\_\-delete\-\_\-all@{caribou\-\_\-timer\-\_\-delete\-\_\-all}!timer.h@{timer.\-h}}
\subsubsection[{caribou\-\_\-timer\-\_\-delete\-\_\-all}]{\setlength{\rightskip}{0pt plus 5cm}void caribou\-\_\-timer\-\_\-delete\-\_\-all (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{thread}
\end{DoxyParamCaption}
)}}\label{timer_8h_a2fb2be42014552a26baec4de547fbbb3}


Definition at line 211 of file timer.\-c.



Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timer_8h_a2fb2be42014552a26baec4de547fbbb3_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timer_8h_a2fb2be42014552a26baec4de547fbbb3_icgraph}
\end{center}
\end{figure}


\hypertarget{timer_8h_ab84793cb51da82b84f9bcf0f3e2d8a38}{\index{timer.\-h@{timer.\-h}!caribou\-\_\-timer\-\_\-expired@{caribou\-\_\-timer\-\_\-expired}}
\index{caribou\-\_\-timer\-\_\-expired@{caribou\-\_\-timer\-\_\-expired}!timer.h@{timer.\-h}}
\subsubsection[{caribou\-\_\-timer\-\_\-expired}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} caribou\-\_\-timer\-\_\-expired (
\begin{DoxyParamCaption}
\item[{{\bf caribou\-\_\-timer\-\_\-t} $\ast$}]{timer}
\end{DoxyParamCaption}
)}}\label{timer_8h_ab84793cb51da82b84f9bcf0f3e2d8a38}


The \hyperlink{timer_8c_ab84793cb51da82b84f9bcf0f3e2d8a38}{caribou\-\_\-timer\-\_\-expired()} function is used to determine if a timer has expired. 


\begin{DoxyParams}{Parameters}
{\em time} & A pointer to a previously initialized caribou\-\_\-timer\-\_\-t instance. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the timer has expired, or false if the timer has yet to expire. 
\end{DoxyReturn}


Definition at line 40 of file timer.\-c.



Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=332pt]{timer_8h_ab84793cb51da82b84f9bcf0f3e2d8a38_icgraph}
\end{center}
\end{figure}


\hypertarget{timer_8h_a53167bc3176eb8b8558960022da4b347}{\index{timer.\-h@{timer.\-h}!caribou\-\_\-timer\-\_\-init@{caribou\-\_\-timer\-\_\-init}}
\index{caribou\-\_\-timer\-\_\-init@{caribou\-\_\-timer\-\_\-init}!timer.h@{timer.\-h}}
\subsubsection[{caribou\-\_\-timer\-\_\-init}]{\setlength{\rightskip}{0pt plus 5cm}{\bf caribou\-\_\-timer\-\_\-t}$\ast$ caribou\-\_\-timer\-\_\-init (
\begin{DoxyParamCaption}
\item[{{\bf caribou\-\_\-timer\-\_\-t} $\ast$}]{timer, }
\item[{{\bf caribou\-\_\-timer\-\_\-callback\-\_\-fn} $\ast$}]{timerfn, }
\item[{void $\ast$}]{arg, }
\item[{uint8\-\_\-t}]{flags}
\end{DoxyParamCaption}
)}}\label{timer_8h_a53167bc3176eb8b8558960022da4b347}

\begin{DoxyParams}{Parameters}
{\em tmer} & A pointer to the timer  timerfn The timer callback function \\
\hline
{\em arg} & Arguments to pass to the callback function \\
\hline
{\em flags} & Timer flags \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to the timer or N\-U\-L\-L if a problem was encountered. 
\end{DoxyReturn}


Definition at line 148 of file timer.\-c.



Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timer_8h_a53167bc3176eb8b8558960022da4b347_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=314pt]{timer_8h_a53167bc3176eb8b8558960022da4b347_icgraph}
\end{center}
\end{figure}


\hypertarget{timer_8h_a7c36856ed5dc5d4ffa6b51c70c31b103}{\index{timer.\-h@{timer.\-h}!caribou\-\_\-timer\-\_\-period@{caribou\-\_\-timer\-\_\-period}}
\index{caribou\-\_\-timer\-\_\-period@{caribou\-\_\-timer\-\_\-period}!timer.h@{timer.\-h}}
\subsubsection[{caribou\-\_\-timer\-\_\-period}]{\setlength{\rightskip}{0pt plus 5cm}int caribou\-\_\-timer\-\_\-period (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{timer_8h_a7c36856ed5dc5d4ffa6b51c70c31b103}
\begin{DoxyReturn}{Returns}
The number of microseconds per native clock tick (J\-I\-F\-F\-I\-E\-S). 
\end{DoxyReturn}


Definition at line 220 of file timer.\-c.



Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=290pt]{timer_8h_a7c36856ed5dc5d4ffa6b51c70c31b103_icgraph}
\end{center}
\end{figure}


\hypertarget{timer_8h_ae91992e348922aa6cad60eaed72ffb33}{\index{timer.\-h@{timer.\-h}!caribou\-\_\-timer\-\_\-reset@{caribou\-\_\-timer\-\_\-reset}}
\index{caribou\-\_\-timer\-\_\-reset@{caribou\-\_\-timer\-\_\-reset}!timer.h@{timer.\-h}}
\subsubsection[{caribou\-\_\-timer\-\_\-reset}]{\setlength{\rightskip}{0pt plus 5cm}{\bf caribou\-\_\-timer\-\_\-t}$\ast$ caribou\-\_\-timer\-\_\-reset (
\begin{DoxyParamCaption}
\item[{{\bf caribou\-\_\-timer\-\_\-t} $\ast$}]{timer}
\end{DoxyParamCaption}
)}}\label{timer_8h_ae91992e348922aa6cad60eaed72ffb33}


Definition at line 194 of file timer.\-c.



Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=308pt]{timer_8h_ae91992e348922aa6cad60eaed72ffb33_cgraph}
\end{center}
\end{figure}


\hypertarget{timer_8h_aae6ec887f8433688572e15aa31358cad}{\index{timer.\-h@{timer.\-h}!caribou\-\_\-timer\-\_\-set@{caribou\-\_\-timer\-\_\-set}}
\index{caribou\-\_\-timer\-\_\-set@{caribou\-\_\-timer\-\_\-set}!timer.h@{timer.\-h}}
\subsubsection[{caribou\-\_\-timer\-\_\-set}]{\setlength{\rightskip}{0pt plus 5cm}{\bf caribou\-\_\-timer\-\_\-t}$\ast$ caribou\-\_\-timer\-\_\-set (
\begin{DoxyParamCaption}
\item[{{\bf caribou\-\_\-timer\-\_\-t} $\ast$}]{timer, }
\item[{uint32\-\_\-t}]{ticks}
\end{DoxyParamCaption}
)}}\label{timer_8h_aae6ec887f8433688572e15aa31358cad}


Definition at line 185 of file timer.\-c.



Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=300pt]{timer_8h_aae6ec887f8433688572e15aa31358cad_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timer_8h_aae6ec887f8433688572e15aa31358cad_icgraph}
\end{center}
\end{figure}


\hypertarget{timer_8h_af4de79ca10bf334bc040c617748a09b5}{\index{timer.\-h@{timer.\-h}!caribou\-\_\-timer\-\_\-ticks@{caribou\-\_\-timer\-\_\-ticks}}
\index{caribou\-\_\-timer\-\_\-ticks@{caribou\-\_\-timer\-\_\-ticks}!timer.h@{timer.\-h}}
\subsubsection[{caribou\-\_\-timer\-\_\-ticks}]{\setlength{\rightskip}{0pt plus 5cm}{\bf caribou\-\_\-tick\-\_\-t} caribou\-\_\-timer\-\_\-ticks (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{timer_8h_af4de79ca10bf334bc040c617748a09b5}
\begin{DoxyReturn}{Returns}
The number of native clock ticks (J\-I\-F\-F\-I\-E\-S) per millisecond. 
\end{DoxyReturn}


Definition at line 228 of file timer.\-c.



Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timer_8h_af4de79ca10bf334bc040c617748a09b5_icgraph}
\end{center}
\end{figure}


\hypertarget{timer_8h_aa9bf47c9bda777efccc41168d8597a99}{\index{timer.\-h@{timer.\-h}!caribou\-\_\-timer\-\_\-ticks\-\_\-timeout@{caribou\-\_\-timer\-\_\-ticks\-\_\-timeout}}
\index{caribou\-\_\-timer\-\_\-ticks\-\_\-timeout@{caribou\-\_\-timer\-\_\-ticks\-\_\-timeout}!timer.h@{timer.\-h}}
\subsubsection[{caribou\-\_\-timer\-\_\-ticks\-\_\-timeout}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} caribou\-\_\-timer\-\_\-ticks\-\_\-timeout (
\begin{DoxyParamCaption}
\item[{{\bf caribou\-\_\-tick\-\_\-t}}]{start, }
\item[{{\bf caribou\-\_\-tick\-\_\-t}}]{timeout}
\end{DoxyParamCaption}
)}}\label{timer_8h_aa9bf47c9bda777efccc41168d8597a99}


Determine of the timeout period has expired in relationn to the start time. 


\begin{DoxyParams}{Parameters}
{\em start} & The time from which the timeout period should have started. \\
\hline
{\em timeout} & The timeout period, T\-I\-M\-E\-O\-U\-T\-\_\-\-I\-N\-F\-I\-N\-A\-T\-E wait forever, T\-I\-M\-E\-O\-U\-T\-\_\-\-I\-M\-M\-E\-D\-I\-A\-T\-E, wait never. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the timeout has expired. 
\end{DoxyReturn}


Definition at line 168 of file timer.\-c.



Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=320pt]{timer_8h_aa9bf47c9bda777efccc41168d8597a99_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timer_8h_aa9bf47c9bda777efccc41168d8597a99_icgraph}
\end{center}
\end{figure}


\hypertarget{timer_8h_ae34fe410deb6119c6feed5e0eda80e4c}{\index{timer.\-h@{timer.\-h}!caribou\-\_\-timer\-\_\-usec\-\_\-delay@{caribou\-\_\-timer\-\_\-usec\-\_\-delay}}
\index{caribou\-\_\-timer\-\_\-usec\-\_\-delay@{caribou\-\_\-timer\-\_\-usec\-\_\-delay}!timer.h@{timer.\-h}}
\subsubsection[{caribou\-\_\-timer\-\_\-usec\-\_\-delay}]{\setlength{\rightskip}{0pt plus 5cm}void caribou\-\_\-timer\-\_\-usec\-\_\-delay (
\begin{DoxyParamCaption}
\item[{uint32\-\_\-t}]{usecs}
\end{DoxyParamCaption}
)}}\label{timer_8h_ae34fe410deb6119c6feed5e0eda80e4c}


microsecond delay 



Definition at line 289 of file timer.\-c.

