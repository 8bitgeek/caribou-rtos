\hypertarget{timer_8c}{\section{src/kernel/timer.c File Reference}
\label{timer_8c}\index{src/kernel/timer.\-c@{src/kernel/timer.\-c}}
}
{\ttfamily \#include $<$caribou/kernel/timer.\-h$>$}\\*
{\ttfamily \#include $<$caribou/kernel/thread.\-h$>$}\\*
{\ttfamily \#include $<$caribou/lib/mutex.\-h$>$}\\*
{\ttfamily \#include $<$caribou/kernel/interrupt.\-h$>$}\\*
{\ttfamily \#include $<$caribou/lib/heap.\-h$>$}\\*
{\ttfamily \#include $<$chip/chip.\-h$>$}\\*
{\ttfamily \#include $<$cpu/cpu.\-h$>$}\\*
Include dependency graph for timer.\-c\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timer_8c__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
uint16\-\_\-t \hyperlink{timer_8c_a06622b3e7de7c548f6c011ec10d03cef}{\-\_\-caribou\-\_\-thread\-\_\-fault\-\_\-emit} (uint16\-\_\-t flags)
\begin{DoxyCompactList}\small\item\em Emit a thread fault by calling the faultfn callback function. \end{DoxyCompactList}\item 
\hyperlink{timer_8c_a35e7ddaa6f8cd3d7d4af872557f914f6}{C\-A\-R\-I\-B\-O\-U\-\_\-\-M\-U\-T\-E\-X\-\_\-\-D\-E\-C\-L\-\_\-\-F} (timer\-\_\-mutex, \hyperlink{mutex_8h_ae94c03ed1f2097292b627c9451de0da3}{C\-A\-R\-I\-B\-O\-U\-\_\-\-M\-U\-T\-E\-X\-\_\-\-F\-\_\-\-R\-E\-C\-U\-R\-S\-I\-V\-E})
\item 
\hyperlink{timer_8h_a905a26361b93888fedb5a0bf658e50e8}{caribou\-\_\-tick\-\_\-t} \hyperlink{timer_8c_a5e6a88f960363ce69982b841096a8a9e}{caribou\-\_\-timer\-\_\-ticks} ()
\item 
\hyperlink{types_8h_abb452686968e48b67397da5f97445f5b}{bool} \hyperlink{timer_8c_ab84793cb51da82b84f9bcf0f3e2d8a38}{caribou\-\_\-timer\-\_\-expired} (\hyperlink{timer_8h_a83310ffb8b0e689ad504298d2b80ead7}{caribou\-\_\-timer\-\_\-t} $\ast$timer)
\begin{DoxyCompactList}\small\item\em The \hyperlink{timer_8c_ab84793cb51da82b84f9bcf0f3e2d8a38}{caribou\-\_\-timer\-\_\-expired()} function is used to determine if a timer has expired. \end{DoxyCompactList}\item 
static void \hyperlink{timer_8c_ad64ff201df7272d5f127906609ad46a1}{delete\-\_\-timer\-\_\-node} (\hyperlink{timer_8h_a83310ffb8b0e689ad504298d2b80ead7}{caribou\-\_\-timer\-\_\-t} $\ast$node)
\item 
static \hyperlink{types_8h_abb452686968e48b67397da5f97445f5b}{bool} \hyperlink{timer_8c_ad60ea161d718bbcb2da9e2c2820005e5}{find\-\_\-timer\-\_\-node} (\hyperlink{thread_8h_a0e341ab77bd872b9b57b065b0f8e9a8e}{caribou\-\_\-thread\-\_\-t} $\ast$thread, \hyperlink{timer_8h_a83310ffb8b0e689ad504298d2b80ead7}{caribou\-\_\-timer\-\_\-t} $\ast$node)
\item 
static \hyperlink{timer_8h_a83310ffb8b0e689ad504298d2b80ead7}{caribou\-\_\-timer\-\_\-t} $\ast$ \hyperlink{timer_8c_a5babbe97ea4c2cfdf56ae5910d6a1d21}{append\-\_\-timer\-\_\-node} (\hyperlink{thread_8h_a0e341ab77bd872b9b57b065b0f8e9a8e}{caribou\-\_\-thread\-\_\-t} $\ast$thread, \hyperlink{timer_8h_a83310ffb8b0e689ad504298d2b80ead7}{caribou\-\_\-timer\-\_\-t} $\ast$node)
\item 
static \hyperlink{timer_8h_a83310ffb8b0e689ad504298d2b80ead7}{caribou\-\_\-timer\-\_\-t} $\ast$ \hyperlink{timer_8c_a4efa9bcdfbb2f7b93d104ab1d6a3f8a6}{remove\-\_\-timer\-\_\-node} (\hyperlink{thread_8h_a0e341ab77bd872b9b57b065b0f8e9a8e}{caribou\-\_\-thread\-\_\-t} $\ast$thread, \hyperlink{timer_8h_a83310ffb8b0e689ad504298d2b80ead7}{caribou\-\_\-timer\-\_\-t} $\ast$node)
\item 
static \hyperlink{timer_8h_a83310ffb8b0e689ad504298d2b80ead7}{caribou\-\_\-timer\-\_\-t} $\ast$ \hyperlink{timer_8c_af3cc4a9176c29f405b32c24dbb2fad75}{new\-\_\-timer\-\_\-node} (void $\ast$($\ast$timerfn)(void $\ast$, void $\ast$), void $\ast$fnarg)
\begin{DoxyCompactList}\small\item\em Allocate a thread node on the heap, and initialize it. \end{DoxyCompactList}\item 
\hyperlink{timer_8h_a83310ffb8b0e689ad504298d2b80ead7}{caribou\-\_\-timer\-\_\-t} $\ast$ \hyperlink{timer_8c_ace2850a12ae1873a6707e74692f1526e}{caribou\-\_\-timer\-\_\-create} (\hyperlink{timer_8h_af991f5bbba685d64fd4a78090140228b}{caribou\-\_\-timer\-\_\-callback\-\_\-fn} $\ast$timerfn, void $\ast$arg, uint8\-\_\-t flags)
\begin{DoxyCompactList}\small\item\em Instantiate a new timer on the heap memory, and associate it with the current thread.  timerfn The timer callback function. \end{DoxyCompactList}\item 
\hyperlink{timer_8h_a83310ffb8b0e689ad504298d2b80ead7}{caribou\-\_\-timer\-\_\-t} $\ast$ \hyperlink{timer_8c_a53167bc3176eb8b8558960022da4b347}{caribou\-\_\-timer\-\_\-init} (\hyperlink{timer_8h_a83310ffb8b0e689ad504298d2b80ead7}{caribou\-\_\-timer\-\_\-t} $\ast$timer, \hyperlink{timer_8h_af991f5bbba685d64fd4a78090140228b}{caribou\-\_\-timer\-\_\-callback\-\_\-fn} $\ast$timerfn, void $\ast$arg, uint8\-\_\-t flags)
\item 
\hyperlink{types_8h_abb452686968e48b67397da5f97445f5b}{bool} \hyperlink{timer_8c_aa9bf47c9bda777efccc41168d8597a99}{caribou\-\_\-timer\-\_\-ticks\-\_\-timeout} (\hyperlink{timer_8h_a905a26361b93888fedb5a0bf658e50e8}{caribou\-\_\-tick\-\_\-t} start, \hyperlink{timer_8h_a905a26361b93888fedb5a0bf658e50e8}{caribou\-\_\-tick\-\_\-t} timeout)
\begin{DoxyCompactList}\small\item\em Determine of the timeout period has expired in relationn to the start time. \end{DoxyCompactList}\item 
\hyperlink{timer_8h_a83310ffb8b0e689ad504298d2b80ead7}{caribou\-\_\-timer\-\_\-t} $\ast$ \hyperlink{timer_8c_aae6ec887f8433688572e15aa31358cad}{caribou\-\_\-timer\-\_\-set} (\hyperlink{timer_8h_a83310ffb8b0e689ad504298d2b80ead7}{caribou\-\_\-timer\-\_\-t} $\ast$timer, uint32\-\_\-t ticks)
\begin{DoxyCompactList}\small\item\em Set the period of the specified timer. \end{DoxyCompactList}\item 
\hyperlink{timer_8h_a83310ffb8b0e689ad504298d2b80ead7}{caribou\-\_\-timer\-\_\-t} $\ast$ \hyperlink{timer_8c_ae91992e348922aa6cad60eaed72ffb33}{caribou\-\_\-timer\-\_\-reset} (\hyperlink{timer_8h_a83310ffb8b0e689ad504298d2b80ead7}{caribou\-\_\-timer\-\_\-t} $\ast$timer)
\begin{DoxyCompactList}\small\item\em Reset the period of the specified timer. \end{DoxyCompactList}\item 
void \hyperlink{timer_8c_ab4d53bf750af4477abae9e82f0419265}{caribou\-\_\-timer\-\_\-delete} (void $\ast$thread, \hyperlink{timer_8h_a83310ffb8b0e689ad504298d2b80ead7}{caribou\-\_\-timer\-\_\-t} $\ast$timer)
\begin{DoxyCompactList}\small\item\em Dispose of a timer instance associated with a thread. \end{DoxyCompactList}\item 
void \hyperlink{timer_8c_a2fb2be42014552a26baec4de547fbbb3}{caribou\-\_\-timer\-\_\-delete\-\_\-all} (void $\ast$thread)
\begin{DoxyCompactList}\small\item\em Dispose of all timer instances associated with a thread. \end{DoxyCompactList}\item 
static int \hyperlink{timer_8c_a52d6abce763346ec50e9562c1d56dead}{expire\-\_\-timer} (\hyperlink{thread_8h_a0e341ab77bd872b9b57b065b0f8e9a8e}{caribou\-\_\-thread\-\_\-t} $\ast$thread, \hyperlink{timer_8h_a83310ffb8b0e689ad504298d2b80ead7}{caribou\-\_\-timer\-\_\-t} $\ast$timer, int delta\-\_\-jiffies)
\begin{DoxyCompactList}\small\item\em Expire sleep timers and timer timers. \end{DoxyCompactList}\item 
int \hyperlink{timer_8c_ada2788a909d6faf0397671cf9f775e01}{caribou\-\_\-timer\-\_\-idle} (\hyperlink{thread_8h_a0e341ab77bd872b9b57b065b0f8e9a8e}{caribou\-\_\-thread\-\_\-t} $\ast$thread)
\begin{DoxyCompactList}\small\item\em Used by C\-A\-R\-I\-B\-O\-U to process timers during the main thread idle loop. \end{DoxyCompactList}\item 
void \hyperlink{timer_8c_ae34fe410deb6119c6feed5e0eda80e4c}{caribou\-\_\-timer\-\_\-usec\-\_\-delay} (uint32\-\_\-t usecs)
\end{DoxyCompactItemize}


\subsection{Detailed Description}




\begin{DoxyAuthor}{Author}
Mike Sharkey \href{mailto:mike@pikeaero.com}{\tt mike@pikeaero.\-com}. 
\end{DoxyAuthor}
\begin{DoxyCopyright}{Copyright}
© 2005-\/2013 by Pike Aerospace Research Corporation 

© 2014-\/2015 by Mike Sharkey
\end{DoxyCopyright}
This file is part of C\-A\-R\-I\-B\-O\-U R\-T\-O\-S C\-A\-R\-I\-B\-O\-U R\-T\-O\-S is free software\-: you can redistribute it and/or modify it under the terms of the Beerware License Version 43. \char`\"{}\-T\-H\-E B\-E\-E\-R-\/\-W\-A\-R\-E L\-I\-C\-E\-N\-S\-E\char`\"{} (Revision 43)\-: Mike Sharkey \href{mailto:mike@pikeaero.com}{\tt mike@pikeaero.\-com} wrote this file. As long as you retain this notice you can do whatever you want with this stuff. If we meet some day, and you think this stuff is worth it, you can buy me a beer in return $\sim$ Mike Sharkey 

Definition in file \hyperlink{timer_8c_source}{timer.\-c}.



\subsection{Function Documentation}
\hypertarget{timer_8c_a06622b3e7de7c548f6c011ec10d03cef}{\index{timer.\-c@{timer.\-c}!\-\_\-caribou\-\_\-thread\-\_\-fault\-\_\-emit@{\-\_\-caribou\-\_\-thread\-\_\-fault\-\_\-emit}}
\index{\-\_\-caribou\-\_\-thread\-\_\-fault\-\_\-emit@{\-\_\-caribou\-\_\-thread\-\_\-fault\-\_\-emit}!timer.c@{timer.\-c}}
\subsubsection[{\-\_\-caribou\-\_\-thread\-\_\-fault\-\_\-emit}]{\setlength{\rightskip}{0pt plus 5cm}uint16\-\_\-t \-\_\-caribou\-\_\-thread\-\_\-fault\-\_\-emit (
\begin{DoxyParamCaption}
\item[{uint16\-\_\-t}]{flags}
\end{DoxyParamCaption}
)}}\label{timer_8c_a06622b3e7de7c548f6c011ec10d03cef}


Emit a thread fault by calling the faultfn callback function. 



Definition at line 106 of file thread.\-c.



Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timer_8c_a06622b3e7de7c548f6c011ec10d03cef_icgraph}
\end{center}
\end{figure}


\hypertarget{timer_8c_a5babbe97ea4c2cfdf56ae5910d6a1d21}{\index{timer.\-c@{timer.\-c}!append\-\_\-timer\-\_\-node@{append\-\_\-timer\-\_\-node}}
\index{append\-\_\-timer\-\_\-node@{append\-\_\-timer\-\_\-node}!timer.c@{timer.\-c}}
\subsubsection[{append\-\_\-timer\-\_\-node}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf caribou\-\_\-timer\-\_\-t}$\ast$ append\-\_\-timer\-\_\-node (
\begin{DoxyParamCaption}
\item[{{\bf caribou\-\_\-thread\-\_\-t} $\ast$}]{thread, }
\item[{{\bf caribou\-\_\-timer\-\_\-t} $\ast$}]{node}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{timer_8c_a5babbe97ea4c2cfdf56ae5910d6a1d21}


Definition at line 74 of file timer.\-c.



Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timer_8c_a5babbe97ea4c2cfdf56ae5910d6a1d21_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timer_8c_a5babbe97ea4c2cfdf56ae5910d6a1d21_icgraph}
\end{center}
\end{figure}


\hypertarget{timer_8c_a35e7ddaa6f8cd3d7d4af872557f914f6}{\index{timer.\-c@{timer.\-c}!C\-A\-R\-I\-B\-O\-U\-\_\-\-M\-U\-T\-E\-X\-\_\-\-D\-E\-C\-L\-\_\-\-F@{C\-A\-R\-I\-B\-O\-U\-\_\-\-M\-U\-T\-E\-X\-\_\-\-D\-E\-C\-L\-\_\-\-F}}
\index{C\-A\-R\-I\-B\-O\-U\-\_\-\-M\-U\-T\-E\-X\-\_\-\-D\-E\-C\-L\-\_\-\-F@{C\-A\-R\-I\-B\-O\-U\-\_\-\-M\-U\-T\-E\-X\-\_\-\-D\-E\-C\-L\-\_\-\-F}!timer.c@{timer.\-c}}
\subsubsection[{C\-A\-R\-I\-B\-O\-U\-\_\-\-M\-U\-T\-E\-X\-\_\-\-D\-E\-C\-L\-\_\-\-F}]{\setlength{\rightskip}{0pt plus 5cm}C\-A\-R\-I\-B\-O\-U\-\_\-\-M\-U\-T\-E\-X\-\_\-\-D\-E\-C\-L\-\_\-\-F (
\begin{DoxyParamCaption}
\item[{timer\-\_\-mutex}]{, }
\item[{{\bf C\-A\-R\-I\-B\-O\-U\-\_\-\-M\-U\-T\-E\-X\-\_\-\-F\-\_\-\-R\-E\-C\-U\-R\-S\-I\-V\-E}}]{}
\end{DoxyParamCaption}
)}}\label{timer_8c_a35e7ddaa6f8cd3d7d4af872557f914f6}
\hypertarget{timer_8c_ace2850a12ae1873a6707e74692f1526e}{\index{timer.\-c@{timer.\-c}!caribou\-\_\-timer\-\_\-create@{caribou\-\_\-timer\-\_\-create}}
\index{caribou\-\_\-timer\-\_\-create@{caribou\-\_\-timer\-\_\-create}!timer.c@{timer.\-c}}
\subsubsection[{caribou\-\_\-timer\-\_\-create}]{\setlength{\rightskip}{0pt plus 5cm}{\bf caribou\-\_\-timer\-\_\-t}$\ast$ caribou\-\_\-timer\-\_\-create (
\begin{DoxyParamCaption}
\item[{{\bf caribou\-\_\-timer\-\_\-callback\-\_\-fn} $\ast$}]{timerfn, }
\item[{void $\ast$}]{arg, }
\item[{uint8\-\_\-t}]{flags}
\end{DoxyParamCaption}
)}}\label{timer_8c_ace2850a12ae1873a6707e74692f1526e}


Instantiate a new timer on the heap memory, and associate it with the current thread.  timerfn The timer callback function. 


\begin{DoxyParams}{Parameters}
{\em arg} & Arguments to pass to the callback function \\
\hline
{\em flags} & Timer flags \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to the newly allocated caribou\-\_\-timer\-\_\-t$\ast$ structure instance, or N\-U\-L\-L if a problem was encountered. 
\end{DoxyReturn}


Definition at line 152 of file timer.\-c.



Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timer_8c_ace2850a12ae1873a6707e74692f1526e_cgraph}
\end{center}
\end{figure}


\hypertarget{timer_8c_ab4d53bf750af4477abae9e82f0419265}{\index{timer.\-c@{timer.\-c}!caribou\-\_\-timer\-\_\-delete@{caribou\-\_\-timer\-\_\-delete}}
\index{caribou\-\_\-timer\-\_\-delete@{caribou\-\_\-timer\-\_\-delete}!timer.c@{timer.\-c}}
\subsubsection[{caribou\-\_\-timer\-\_\-delete}]{\setlength{\rightskip}{0pt plus 5cm}void caribou\-\_\-timer\-\_\-delete (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{thread, }
\item[{{\bf caribou\-\_\-timer\-\_\-t} $\ast$}]{timer}
\end{DoxyParamCaption}
)}}\label{timer_8c_ab4d53bf750af4477abae9e82f0419265}


Dispose of a timer instance associated with a thread. 


\begin{DoxyParams}{Parameters}
{\em thread} & The thread associated with the timer. \\
\hline
{\em timer} & A pointer to the timer instance. \\
\hline
\end{DoxyParams}


Definition at line 236 of file timer.\-c.



Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timer_8c_ab4d53bf750af4477abae9e82f0419265_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timer_8c_ab4d53bf750af4477abae9e82f0419265_icgraph}
\end{center}
\end{figure}


\hypertarget{timer_8c_a2fb2be42014552a26baec4de547fbbb3}{\index{timer.\-c@{timer.\-c}!caribou\-\_\-timer\-\_\-delete\-\_\-all@{caribou\-\_\-timer\-\_\-delete\-\_\-all}}
\index{caribou\-\_\-timer\-\_\-delete\-\_\-all@{caribou\-\_\-timer\-\_\-delete\-\_\-all}!timer.c@{timer.\-c}}
\subsubsection[{caribou\-\_\-timer\-\_\-delete\-\_\-all}]{\setlength{\rightskip}{0pt plus 5cm}void caribou\-\_\-timer\-\_\-delete\-\_\-all (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{thread}
\end{DoxyParamCaption}
)}}\label{timer_8c_a2fb2be42014552a26baec4de547fbbb3}


Dispose of all timer instances associated with a thread. 


\begin{DoxyParams}{Parameters}
{\em thread} & The thread which references the timers to be disposed. \\
\hline
\end{DoxyParams}


Definition at line 248 of file timer.\-c.



Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timer_8c_a2fb2be42014552a26baec4de547fbbb3_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timer_8c_a2fb2be42014552a26baec4de547fbbb3_icgraph}
\end{center}
\end{figure}


\hypertarget{timer_8c_ab84793cb51da82b84f9bcf0f3e2d8a38}{\index{timer.\-c@{timer.\-c}!caribou\-\_\-timer\-\_\-expired@{caribou\-\_\-timer\-\_\-expired}}
\index{caribou\-\_\-timer\-\_\-expired@{caribou\-\_\-timer\-\_\-expired}!timer.c@{timer.\-c}}
\subsubsection[{caribou\-\_\-timer\-\_\-expired}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} caribou\-\_\-timer\-\_\-expired (
\begin{DoxyParamCaption}
\item[{{\bf caribou\-\_\-timer\-\_\-t} $\ast$}]{timer}
\end{DoxyParamCaption}
)}}\label{timer_8c_ab84793cb51da82b84f9bcf0f3e2d8a38}


The \hyperlink{timer_8c_ab84793cb51da82b84f9bcf0f3e2d8a38}{caribou\-\_\-timer\-\_\-expired()} function is used to determine if a timer has expired. 


\begin{DoxyParams}{Parameters}
{\em time} & A pointer to a previously initialized caribou\-\_\-timer\-\_\-t instance. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the timer has expired, or false if the timer has yet to expire. 
\end{DoxyReturn}


Definition at line 45 of file timer.\-c.



Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timer_8c_ab84793cb51da82b84f9bcf0f3e2d8a38_icgraph}
\end{center}
\end{figure}


\hypertarget{timer_8c_ada2788a909d6faf0397671cf9f775e01}{\index{timer.\-c@{timer.\-c}!caribou\-\_\-timer\-\_\-idle@{caribou\-\_\-timer\-\_\-idle}}
\index{caribou\-\_\-timer\-\_\-idle@{caribou\-\_\-timer\-\_\-idle}!timer.c@{timer.\-c}}
\subsubsection[{caribou\-\_\-timer\-\_\-idle}]{\setlength{\rightskip}{0pt plus 5cm}int caribou\-\_\-timer\-\_\-idle (
\begin{DoxyParamCaption}
\item[{{\bf caribou\-\_\-thread\-\_\-t} $\ast$}]{thread}
\end{DoxyParamCaption}
)}}\label{timer_8c_ada2788a909d6faf0397671cf9f775e01}


Used by C\-A\-R\-I\-B\-O\-U to process timers during the main thread idle loop. 

main thread exec loop -\/ used by C\-A\-R\-I\-B\-O\-U

\begin{DoxyReturn}{Returns}
number of timers expired 
\end{DoxyReturn}
expire timers... 

Definition at line 286 of file timer.\-c.



Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timer_8c_ada2788a909d6faf0397671cf9f775e01_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timer_8c_ada2788a909d6faf0397671cf9f775e01_icgraph}
\end{center}
\end{figure}


\hypertarget{timer_8c_a53167bc3176eb8b8558960022da4b347}{\index{timer.\-c@{timer.\-c}!caribou\-\_\-timer\-\_\-init@{caribou\-\_\-timer\-\_\-init}}
\index{caribou\-\_\-timer\-\_\-init@{caribou\-\_\-timer\-\_\-init}!timer.c@{timer.\-c}}
\subsubsection[{caribou\-\_\-timer\-\_\-init}]{\setlength{\rightskip}{0pt plus 5cm}{\bf caribou\-\_\-timer\-\_\-t}$\ast$ caribou\-\_\-timer\-\_\-init (
\begin{DoxyParamCaption}
\item[{{\bf caribou\-\_\-timer\-\_\-t} $\ast$}]{timer, }
\item[{{\bf caribou\-\_\-timer\-\_\-callback\-\_\-fn} $\ast$}]{timerfn, }
\item[{void $\ast$}]{arg, }
\item[{uint8\-\_\-t}]{flags}
\end{DoxyParamCaption}
)}}\label{timer_8c_a53167bc3176eb8b8558960022da4b347}

\begin{DoxyParams}{Parameters}
{\em tmer} & A pointer to the timer  timerfn The timer callback function \\
\hline
{\em arg} & Arguments to pass to the callback function \\
\hline
{\em flags} & Timer flags \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to the timer or N\-U\-L\-L if a problem was encountered. 
\end{DoxyReturn}


Definition at line 174 of file timer.\-c.



Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timer_8c_a53167bc3176eb8b8558960022da4b347_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timer_8c_a53167bc3176eb8b8558960022da4b347_icgraph}
\end{center}
\end{figure}


\hypertarget{timer_8c_ae91992e348922aa6cad60eaed72ffb33}{\index{timer.\-c@{timer.\-c}!caribou\-\_\-timer\-\_\-reset@{caribou\-\_\-timer\-\_\-reset}}
\index{caribou\-\_\-timer\-\_\-reset@{caribou\-\_\-timer\-\_\-reset}!timer.c@{timer.\-c}}
\subsubsection[{caribou\-\_\-timer\-\_\-reset}]{\setlength{\rightskip}{0pt plus 5cm}{\bf caribou\-\_\-timer\-\_\-t}$\ast$ caribou\-\_\-timer\-\_\-reset (
\begin{DoxyParamCaption}
\item[{{\bf caribou\-\_\-timer\-\_\-t} $\ast$}]{timer}
\end{DoxyParamCaption}
)}}\label{timer_8c_ae91992e348922aa6cad60eaed72ffb33}


Reset the period of the specified timer. 


\begin{DoxyParams}{Parameters}
{\em timer} & A pointer to a previously initialized timer. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to the timer instance. 
\end{DoxyReturn}


Definition at line 223 of file timer.\-c.



Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timer_8c_ae91992e348922aa6cad60eaed72ffb33_cgraph}
\end{center}
\end{figure}


\hypertarget{timer_8c_aae6ec887f8433688572e15aa31358cad}{\index{timer.\-c@{timer.\-c}!caribou\-\_\-timer\-\_\-set@{caribou\-\_\-timer\-\_\-set}}
\index{caribou\-\_\-timer\-\_\-set@{caribou\-\_\-timer\-\_\-set}!timer.c@{timer.\-c}}
\subsubsection[{caribou\-\_\-timer\-\_\-set}]{\setlength{\rightskip}{0pt plus 5cm}{\bf caribou\-\_\-timer\-\_\-t}$\ast$ caribou\-\_\-timer\-\_\-set (
\begin{DoxyParamCaption}
\item[{{\bf caribou\-\_\-timer\-\_\-t} $\ast$}]{timer, }
\item[{uint32\-\_\-t}]{ticks}
\end{DoxyParamCaption}
)}}\label{timer_8c_aae6ec887f8433688572e15aa31358cad}


Set the period of the specified timer. 


\begin{DoxyParams}{Parameters}
{\em timer} & A pointer to a previously initialized timer. \\
\hline
{\em ticks} & The number of ticks per period. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to the timer instance. 
\end{DoxyReturn}


Definition at line 209 of file timer.\-c.



Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timer_8c_aae6ec887f8433688572e15aa31358cad_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timer_8c_aae6ec887f8433688572e15aa31358cad_icgraph}
\end{center}
\end{figure}


\hypertarget{timer_8c_a5e6a88f960363ce69982b841096a8a9e}{\index{timer.\-c@{timer.\-c}!caribou\-\_\-timer\-\_\-ticks@{caribou\-\_\-timer\-\_\-ticks}}
\index{caribou\-\_\-timer\-\_\-ticks@{caribou\-\_\-timer\-\_\-ticks}!timer.c@{timer.\-c}}
\subsubsection[{caribou\-\_\-timer\-\_\-ticks}]{\setlength{\rightskip}{0pt plus 5cm}{\bf caribou\-\_\-tick\-\_\-t} caribou\-\_\-timer\-\_\-ticks (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{timer_8c_a5e6a88f960363ce69982b841096a8a9e}


Definition at line 32 of file timer.\-c.



Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timer_8c_a5e6a88f960363ce69982b841096a8a9e_icgraph}
\end{center}
\end{figure}


\hypertarget{timer_8c_aa9bf47c9bda777efccc41168d8597a99}{\index{timer.\-c@{timer.\-c}!caribou\-\_\-timer\-\_\-ticks\-\_\-timeout@{caribou\-\_\-timer\-\_\-ticks\-\_\-timeout}}
\index{caribou\-\_\-timer\-\_\-ticks\-\_\-timeout@{caribou\-\_\-timer\-\_\-ticks\-\_\-timeout}!timer.c@{timer.\-c}}
\subsubsection[{caribou\-\_\-timer\-\_\-ticks\-\_\-timeout}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} caribou\-\_\-timer\-\_\-ticks\-\_\-timeout (
\begin{DoxyParamCaption}
\item[{{\bf caribou\-\_\-tick\-\_\-t}}]{start, }
\item[{{\bf caribou\-\_\-tick\-\_\-t}}]{timeout}
\end{DoxyParamCaption}
)}}\label{timer_8c_aa9bf47c9bda777efccc41168d8597a99}


Determine of the timeout period has expired in relationn to the start time. 


\begin{DoxyParams}{Parameters}
{\em start} & The time from which the timeout period should have started. \\
\hline
{\em timeout} & The timeout period, T\-I\-M\-E\-O\-U\-T\-\_\-\-I\-N\-F\-I\-N\-A\-T\-E wait forever, T\-I\-M\-E\-O\-U\-T\-\_\-\-I\-M\-M\-E\-D\-I\-A\-T\-E, wait never. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the timeout has expired. 
\end{DoxyReturn}


Definition at line 194 of file timer.\-c.



Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timer_8c_aa9bf47c9bda777efccc41168d8597a99_icgraph}
\end{center}
\end{figure}


\hypertarget{timer_8c_ae34fe410deb6119c6feed5e0eda80e4c}{\index{timer.\-c@{timer.\-c}!caribou\-\_\-timer\-\_\-usec\-\_\-delay@{caribou\-\_\-timer\-\_\-usec\-\_\-delay}}
\index{caribou\-\_\-timer\-\_\-usec\-\_\-delay@{caribou\-\_\-timer\-\_\-usec\-\_\-delay}!timer.c@{timer.\-c}}
\subsubsection[{caribou\-\_\-timer\-\_\-usec\-\_\-delay}]{\setlength{\rightskip}{0pt plus 5cm}void caribou\-\_\-timer\-\_\-usec\-\_\-delay (
\begin{DoxyParamCaption}
\item[{uint32\-\_\-t}]{usecs}
\end{DoxyParamCaption}
)}}\label{timer_8c_ae34fe410deb6119c6feed5e0eda80e4c}
F\-I\-X\-M\-E microsecond delay 

Definition at line 312 of file timer.\-c.

\hypertarget{timer_8c_ad64ff201df7272d5f127906609ad46a1}{\index{timer.\-c@{timer.\-c}!delete\-\_\-timer\-\_\-node@{delete\-\_\-timer\-\_\-node}}
\index{delete\-\_\-timer\-\_\-node@{delete\-\_\-timer\-\_\-node}!timer.c@{timer.\-c}}
\subsubsection[{delete\-\_\-timer\-\_\-node}]{\setlength{\rightskip}{0pt plus 5cm}static void delete\-\_\-timer\-\_\-node (
\begin{DoxyParamCaption}
\item[{{\bf caribou\-\_\-timer\-\_\-t} $\ast$}]{node}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{timer_8c_ad64ff201df7272d5f127906609ad46a1}


Definition at line 52 of file timer.\-c.



Here is the call graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=246pt]{timer_8c_ad64ff201df7272d5f127906609ad46a1_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timer_8c_ad64ff201df7272d5f127906609ad46a1_icgraph}
\end{center}
\end{figure}


\hypertarget{timer_8c_a52d6abce763346ec50e9562c1d56dead}{\index{timer.\-c@{timer.\-c}!expire\-\_\-timer@{expire\-\_\-timer}}
\index{expire\-\_\-timer@{expire\-\_\-timer}!timer.c@{timer.\-c}}
\subsubsection[{expire\-\_\-timer}]{\setlength{\rightskip}{0pt plus 5cm}static int expire\-\_\-timer (
\begin{DoxyParamCaption}
\item[{{\bf caribou\-\_\-thread\-\_\-t} $\ast$}]{thread, }
\item[{{\bf caribou\-\_\-timer\-\_\-t} $\ast$}]{timer, }
\item[{int}]{delta\-\_\-jiffies}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{timer_8c_a52d6abce763346ec50e9562c1d56dead}


Expire sleep timers and timer timers. 


\begin{DoxyParams}{Parameters}
{\em thread} & The subject of the timer and sleep expiry. \\
\hline
{\em delta\-\_\-jiffies} & The number of jiffies elapsed since the last timer expiry run. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
number timers expired. 
\end{DoxyReturn}


Definition at line 260 of file timer.\-c.



Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timer_8c_a52d6abce763346ec50e9562c1d56dead_icgraph}
\end{center}
\end{figure}


\hypertarget{timer_8c_ad60ea161d718bbcb2da9e2c2820005e5}{\index{timer.\-c@{timer.\-c}!find\-\_\-timer\-\_\-node@{find\-\_\-timer\-\_\-node}}
\index{find\-\_\-timer\-\_\-node@{find\-\_\-timer\-\_\-node}!timer.c@{timer.\-c}}
\subsubsection[{find\-\_\-timer\-\_\-node}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf bool} find\-\_\-timer\-\_\-node (
\begin{DoxyParamCaption}
\item[{{\bf caribou\-\_\-thread\-\_\-t} $\ast$}]{thread, }
\item[{{\bf caribou\-\_\-timer\-\_\-t} $\ast$}]{node}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{timer_8c_ad60ea161d718bbcb2da9e2c2820005e5}


Definition at line 58 of file timer.\-c.



Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timer_8c_ad60ea161d718bbcb2da9e2c2820005e5_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timer_8c_ad60ea161d718bbcb2da9e2c2820005e5_icgraph}
\end{center}
\end{figure}


\hypertarget{timer_8c_af3cc4a9176c29f405b32c24dbb2fad75}{\index{timer.\-c@{timer.\-c}!new\-\_\-timer\-\_\-node@{new\-\_\-timer\-\_\-node}}
\index{new\-\_\-timer\-\_\-node@{new\-\_\-timer\-\_\-node}!timer.c@{timer.\-c}}
\subsubsection[{new\-\_\-timer\-\_\-node}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf caribou\-\_\-timer\-\_\-t}$\ast$ new\-\_\-timer\-\_\-node (
\begin{DoxyParamCaption}
\item[{void $\ast$($\ast$)(void $\ast$, void $\ast$)}]{timerfn, }
\item[{void $\ast$}]{fnarg}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{timer_8c_af3cc4a9176c29f405b32c24dbb2fad75}


Allocate a thread node on the heap, and initialize it. 

\begin{DoxyReturn}{Returns}
Upon success, returns a pointer to the newly allocated thread. 
\end{DoxyReturn}


Definition at line 127 of file timer.\-c.



Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=338pt]{timer_8c_af3cc4a9176c29f405b32c24dbb2fad75_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=312pt]{timer_8c_af3cc4a9176c29f405b32c24dbb2fad75_icgraph}
\end{center}
\end{figure}


\hypertarget{timer_8c_a4efa9bcdfbb2f7b93d104ab1d6a3f8a6}{\index{timer.\-c@{timer.\-c}!remove\-\_\-timer\-\_\-node@{remove\-\_\-timer\-\_\-node}}
\index{remove\-\_\-timer\-\_\-node@{remove\-\_\-timer\-\_\-node}!timer.c@{timer.\-c}}
\subsubsection[{remove\-\_\-timer\-\_\-node}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf caribou\-\_\-timer\-\_\-t}$\ast$ remove\-\_\-timer\-\_\-node (
\begin{DoxyParamCaption}
\item[{{\bf caribou\-\_\-thread\-\_\-t} $\ast$}]{thread, }
\item[{{\bf caribou\-\_\-timer\-\_\-t} $\ast$}]{node}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{timer_8c_a4efa9bcdfbb2f7b93d104ab1d6a3f8a6}


Definition at line 101 of file timer.\-c.



Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timer_8c_a4efa9bcdfbb2f7b93d104ab1d6a3f8a6_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timer_8c_a4efa9bcdfbb2f7b93d104ab1d6a3f8a6_icgraph}
\end{center}
\end{figure}


