\hypertarget{queue_8c}{\section{src/lib/queue.c File Reference}
\label{queue_8c}\index{src/lib/queue.\-c@{src/lib/queue.\-c}}
}
{\ttfamily \#include $<$caribou/lib/queue.\-h$>$}\\*
{\ttfamily \#include $<$caribou/kernel/thread.\-h$>$}\\*
{\ttfamily \#include $<$caribou/lib/heap.\-h$>$}\\*
{\ttfamily \#include $<$caribou/lib/errno.\-h$>$}\\*
{\ttfamily \#include $<$caribou/lib/string.\-h$>$}\\*
{\ttfamily \#include $<$chip/chip.\-h$>$}\\*
Include dependency graph for queue.\-c\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{queue_8c__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{queue_8h_a4f0b560adcb67d9f889225d932d36070}{caribou\-\_\-queue\-\_\-t} $\ast$ \hyperlink{queue_8c_aa2495b52103af4527f2cfb7ac1fc080e}{caribou\-\_\-queue\-\_\-new} (int depth)
\begin{DoxyCompactList}\small\item\em Allocate and initialize a new queue on the stack. \end{DoxyCompactList}\item 
void \hyperlink{queue_8c_ae24737e87b9ca788bd1c56c52d146cde}{caribou\-\_\-queue\-\_\-delete} (\hyperlink{queue_8h_a4f0b560adcb67d9f889225d932d36070}{caribou\-\_\-queue\-\_\-t} $\ast$queue)
\begin{DoxyCompactList}\small\item\em Delete a queue previously created with \hyperlink{queue_8c_aa2495b52103af4527f2cfb7ac1fc080e}{caribou\-\_\-queue\-\_\-new()}. \end{DoxyCompactList}\item 
\hyperlink{queue_8h_a4f0b560adcb67d9f889225d932d36070}{caribou\-\_\-queue\-\_\-t} $\ast$ \hyperlink{queue_8c_a7cd27221922d6e255e1d273445a7b258}{caribou\-\_\-queue\-\_\-init} (\hyperlink{queue_8h_a4f0b560adcb67d9f889225d932d36070}{caribou\-\_\-queue\-\_\-t} $\ast$queue, int depth, \hyperlink{queue_8h_aa9897960939163cc502ee337bd73256d}{caribou\-\_\-queue\-\_\-msg\-\_\-t} $\ast$$\ast$msgs)
\begin{DoxyCompactList}\small\item\em initialize a queue where storage has been pre-\/allocated. \end{DoxyCompactList}\item 
\hyperlink{types_8h_abb452686968e48b67397da5f97445f5b}{bool} \hyperlink{queue_8c_aeedb036f330a95543e5d81b11f6538e5}{caribou\-\_\-queue\-\_\-full} (\hyperlink{queue_8h_a4f0b560adcb67d9f889225d932d36070}{caribou\-\_\-queue\-\_\-t} $\ast$queue)
\begin{DoxyCompactList}\small\item\em Determine if the queue is full, meaning count has reached depth. \end{DoxyCompactList}\item 
\hyperlink{types_8h_abb452686968e48b67397da5f97445f5b}{bool} \hyperlink{queue_8c_a20fa2e6641e882a77337c0a80df25ebf}{caribou\-\_\-queue\-\_\-empty} (\hyperlink{queue_8h_a4f0b560adcb67d9f889225d932d36070}{caribou\-\_\-queue\-\_\-t} $\ast$queue)
\begin{DoxyCompactList}\small\item\em Determin if the queue is empty (count == 0 ). \end{DoxyCompactList}\item 
int \hyperlink{queue_8c_a92ad89bd2f4416b144c8a415401d2921}{caribou\-\_\-queue\-\_\-depth} (\hyperlink{queue_8h_a4f0b560adcb67d9f889225d932d36070}{caribou\-\_\-queue\-\_\-t} $\ast$queue)
\item 
int \hyperlink{queue_8c_ad555a996c1f39af1f9866ee02cce5eef}{caribou\-\_\-queue\-\_\-count} (\hyperlink{queue_8h_a4f0b560adcb67d9f889225d932d36070}{caribou\-\_\-queue\-\_\-t} $\ast$queue)
\item 
\hyperlink{types_8h_abb452686968e48b67397da5f97445f5b}{bool} \hyperlink{queue_8c_acf810b7a80cecc731fec74c95fbfaaf5}{caribou\-\_\-queue\-\_\-post} (\hyperlink{queue_8h_a4f0b560adcb67d9f889225d932d36070}{caribou\-\_\-queue\-\_\-t} $\ast$queue, \hyperlink{queue_8h_aa9897960939163cc502ee337bd73256d}{caribou\-\_\-queue\-\_\-msg\-\_\-t} $\ast$msg, \hyperlink{timer_8h_a905a26361b93888fedb5a0bf658e50e8}{caribou\-\_\-tick\-\_\-t} timeout)
\begin{DoxyCompactList}\small\item\em Post a message to the queue and block while there is no space in the queue. \end{DoxyCompactList}\item 
\hyperlink{queue_8h_aa9897960939163cc502ee337bd73256d}{caribou\-\_\-queue\-\_\-msg\-\_\-t} $\ast$ \hyperlink{queue_8c_a31fd6a3e814d22360eca137f9130220d}{caribou\-\_\-queue\-\_\-last} (\hyperlink{queue_8h_a4f0b560adcb67d9f889225d932d36070}{caribou\-\_\-queue\-\_\-t} $\ast$queue)
\begin{DoxyCompactList}\small\item\em Peek at the last message in the queue. \end{DoxyCompactList}\item 
\hyperlink{queue_8h_aa9897960939163cc502ee337bd73256d}{caribou\-\_\-queue\-\_\-msg\-\_\-t} $\ast$ \hyperlink{queue_8c_a09ef8e27cb7bba8a157f58a4fbbecedb}{caribou\-\_\-queue\-\_\-first} (\hyperlink{queue_8h_a4f0b560adcb67d9f889225d932d36070}{caribou\-\_\-queue\-\_\-t} $\ast$queue)
\begin{DoxyCompactList}\small\item\em Peek at the last message in the queue. \end{DoxyCompactList}\item 
\hyperlink{queue_8h_aa9897960939163cc502ee337bd73256d}{caribou\-\_\-queue\-\_\-msg\-\_\-t} $\ast$ \hyperlink{queue_8c_a728c667fc5ae7cc728cdd8a062187fbb}{caribou\-\_\-queue\-\_\-take\-\_\-last} (\hyperlink{queue_8h_a4f0b560adcb67d9f889225d932d36070}{caribou\-\_\-queue\-\_\-t} $\ast$queue, \hyperlink{timer_8h_a905a26361b93888fedb5a0bf658e50e8}{caribou\-\_\-tick\-\_\-t} timeout)
\begin{DoxyCompactList}\small\item\em Fetch last message from the queue. \end{DoxyCompactList}\item 
\hyperlink{types_8h_abb452686968e48b67397da5f97445f5b}{bool} \hyperlink{queue_8c_af1f017ef81808a437d17a34df6a8e2b5}{caribou\-\_\-queue\-\_\-take\-\_\-first} (\hyperlink{queue_8h_a4f0b560adcb67d9f889225d932d36070}{caribou\-\_\-queue\-\_\-t} $\ast$queue, \hyperlink{queue_8h_aa9897960939163cc502ee337bd73256d}{caribou\-\_\-queue\-\_\-msg\-\_\-t} $\ast$$\ast$msg, \hyperlink{timer_8h_a905a26361b93888fedb5a0bf658e50e8}{caribou\-\_\-tick\-\_\-t} timeout)
\begin{DoxyCompactList}\small\item\em Fetch first message from the queue, or wait. \end{DoxyCompactList}\item 
\hyperlink{types_8h_abb452686968e48b67397da5f97445f5b}{bool} \hyperlink{queue_8c_ae2a7e44ef2c1c2f2b2387381eb39401e}{caribou\-\_\-queue\-\_\-try\-\_\-post} (\hyperlink{queue_8h_a4f0b560adcb67d9f889225d932d36070}{caribou\-\_\-queue\-\_\-t} $\ast$queue, \hyperlink{queue_8h_aa9897960939163cc502ee337bd73256d}{caribou\-\_\-queue\-\_\-msg\-\_\-t} $\ast$msg)
\begin{DoxyCompactList}\small\item\em Post a message to the queue and don't block if there is no space in the queue. \end{DoxyCompactList}\item 
\hyperlink{queue_8h_aa9897960939163cc502ee337bd73256d}{caribou\-\_\-queue\-\_\-msg\-\_\-t} $\ast$ \hyperlink{queue_8c_a59f9704c4f0e348d58243de5c5b3d5d5}{caribou\-\_\-queue\-\_\-try\-\_\-take\-\_\-last} (\hyperlink{queue_8h_a4f0b560adcb67d9f889225d932d36070}{caribou\-\_\-queue\-\_\-t} $\ast$queue)
\begin{DoxyCompactList}\small\item\em Fetch last message from the queue. \end{DoxyCompactList}\item 
\hyperlink{types_8h_abb452686968e48b67397da5f97445f5b}{bool} \hyperlink{queue_8c_aca259d208e112bbb0fdd866a6d12c506}{caribou\-\_\-queue\-\_\-try\-\_\-take\-\_\-first} (\hyperlink{queue_8h_a4f0b560adcb67d9f889225d932d36070}{caribou\-\_\-queue\-\_\-t} $\ast$queue, \hyperlink{queue_8h_aa9897960939163cc502ee337bd73256d}{caribou\-\_\-queue\-\_\-msg\-\_\-t} $\ast$$\ast$msg)
\begin{DoxyCompactList}\small\item\em Fetch first message from the queue. \end{DoxyCompactList}\item 
int \hyperlink{queue_8c_aef004beab1d7cfa37819a0b42911802d}{caribou\-\_\-queue\-\_\-index\-\_\-of} (\hyperlink{queue_8h_a4f0b560adcb67d9f889225d932d36070}{caribou\-\_\-queue\-\_\-t} $\ast$queue, \hyperlink{queue_8h_aa9897960939163cc502ee337bd73256d}{caribou\-\_\-queue\-\_\-msg\-\_\-t} $\ast$msg)
\begin{DoxyCompactList}\small\item\em Return the index of a particular message in the queue. \end{DoxyCompactList}\item 
\hyperlink{queue_8h_aa9897960939163cc502ee337bd73256d}{caribou\-\_\-queue\-\_\-msg\-\_\-t} $\ast$ \hyperlink{queue_8c_a75ecd456ece45fa3df294376c5439a30}{caribou\-\_\-queue\-\_\-swap} (\hyperlink{queue_8h_a4f0b560adcb67d9f889225d932d36070}{caribou\-\_\-queue\-\_\-t} $\ast$queue, int a, int b)
\begin{DoxyCompactList}\small\item\em Swap two messages in the queue. \end{DoxyCompactList}\item 
\hyperlink{queue_8h_aa9897960939163cc502ee337bd73256d}{caribou\-\_\-queue\-\_\-msg\-\_\-t} $\ast$ \hyperlink{queue_8c_aad9aa6d2e39a5024ff4162e7604b6c58}{caribou\-\_\-queue\-\_\-rotate} (\hyperlink{queue_8h_a4f0b560adcb67d9f889225d932d36070}{caribou\-\_\-queue\-\_\-t} $\ast$queue)
\begin{DoxyCompactList}\small\item\em Rotate the messages in the queue, first-\/$>$last. \end{DoxyCompactList}\item 
\hyperlink{queue_8h_aa9897960939163cc502ee337bd73256d}{caribou\-\_\-queue\-\_\-msg\-\_\-t} $\ast$ \hyperlink{queue_8c_a8d7a08efe96eeec4c021856517537815}{caribou\-\_\-queue\-\_\-take\-\_\-at} (\hyperlink{queue_8h_a4f0b560adcb67d9f889225d932d36070}{caribou\-\_\-queue\-\_\-t} $\ast$queue, int index, \hyperlink{timer_8h_a905a26361b93888fedb5a0bf658e50e8}{caribou\-\_\-tick\-\_\-t} timeout)
\begin{DoxyCompactList}\small\item\em Take a message our of the queue at an index. \end{DoxyCompactList}\item 
\hyperlink{queue_8h_aa9897960939163cc502ee337bd73256d}{caribou\-\_\-queue\-\_\-msg\-\_\-t} $\ast$ \hyperlink{queue_8c_a3ee03ca408c01171beed3ae7d6fa02d2}{caribou\-\_\-queue\-\_\-try\-\_\-take\-\_\-at} (\hyperlink{queue_8h_a4f0b560adcb67d9f889225d932d36070}{caribou\-\_\-queue\-\_\-t} $\ast$queue, int index)
\begin{DoxyCompactList}\small\item\em Take a message our of the queue at an index. \end{DoxyCompactList}\item 
\hyperlink{queue_8h_aa9897960939163cc502ee337bd73256d}{caribou\-\_\-queue\-\_\-msg\-\_\-t} $\ast$ \hyperlink{queue_8c_a3b330cb93ed55042f62ef232e5c8f387}{caribou\-\_\-queue\-\_\-at} (\hyperlink{queue_8h_a4f0b560adcb67d9f889225d932d36070}{caribou\-\_\-queue\-\_\-t} $\ast$queue, int index)
\begin{DoxyCompactList}\small\item\em Find a message in the queue at an index. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}




\begin{DoxyAuthor}{Author}
Mike Sharkey \href{mailto:mike@pikeaero.com}{\tt mike@pikeaero.\-com}. 
\end{DoxyAuthor}
\begin{DoxyCopyright}{Copyright}
© 2005-\/2013 by Pike Aerospace Research Corporation 

© 2014-\/2015 by Mike Sharkey
\end{DoxyCopyright}
This file is part of C\-A\-R\-I\-B\-O\-U R\-T\-O\-S C\-A\-R\-I\-B\-O\-U R\-T\-O\-S is free software\-: you can redistribute it and/or modify it under the terms of the Beerware License Version 43. \char`\"{}\-T\-H\-E B\-E\-E\-R-\/\-W\-A\-R\-E L\-I\-C\-E\-N\-S\-E\char`\"{} (Revision 43)\-: Mike Sharkey \href{mailto:mike@pikeaero.com}{\tt mike@pikeaero.\-com} wrote this file. As long as you retain this notice you can do whatever you want with this stuff. If we meet some day, and you think this stuff is worth it, you can buy me a beer in return $\sim$ Mike Sharkey 

Definition in file \hyperlink{queue_8c_source}{queue.\-c}.



\subsection{Function Documentation}
\hypertarget{queue_8c_a3b330cb93ed55042f62ef232e5c8f387}{\index{queue.\-c@{queue.\-c}!caribou\-\_\-queue\-\_\-at@{caribou\-\_\-queue\-\_\-at}}
\index{caribou\-\_\-queue\-\_\-at@{caribou\-\_\-queue\-\_\-at}!queue.c@{queue.\-c}}
\subsubsection[{caribou\-\_\-queue\-\_\-at}]{\setlength{\rightskip}{0pt plus 5cm}{\bf caribou\-\_\-queue\-\_\-msg\-\_\-t}$\ast$ caribou\-\_\-queue\-\_\-at (
\begin{DoxyParamCaption}
\item[{{\bf caribou\-\_\-queue\-\_\-t} $\ast$}]{queue, }
\item[{int}]{index}
\end{DoxyParamCaption}
)}}\label{queue_8c_a3b330cb93ed55042f62ef232e5c8f387}


Find a message in the queue at an index. 



 
\begin{DoxyParams}{Parameters}
{\em queue} & The queue to operate on. \\
\hline
{\em index} & The index if the message to take. \\
\hline
{\em timeout} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The first item in the queue or N\-U\-L\-L. 
\end{DoxyReturn}


Definition at line 401 of file queue.\-c.

\hypertarget{queue_8c_ad555a996c1f39af1f9866ee02cce5eef}{\index{queue.\-c@{queue.\-c}!caribou\-\_\-queue\-\_\-count@{caribou\-\_\-queue\-\_\-count}}
\index{caribou\-\_\-queue\-\_\-count@{caribou\-\_\-queue\-\_\-count}!queue.c@{queue.\-c}}
\subsubsection[{caribou\-\_\-queue\-\_\-count}]{\setlength{\rightskip}{0pt plus 5cm}int caribou\-\_\-queue\-\_\-count (
\begin{DoxyParamCaption}
\item[{{\bf caribou\-\_\-queue\-\_\-t} $\ast$}]{queue}
\end{DoxyParamCaption}
)}}\label{queue_8c_ad555a996c1f39af1f9866ee02cce5eef}


  the number of occupied elements of the queue 

Definition at line 127 of file queue.\-c.

\hypertarget{queue_8c_ae24737e87b9ca788bd1c56c52d146cde}{\index{queue.\-c@{queue.\-c}!caribou\-\_\-queue\-\_\-delete@{caribou\-\_\-queue\-\_\-delete}}
\index{caribou\-\_\-queue\-\_\-delete@{caribou\-\_\-queue\-\_\-delete}!queue.c@{queue.\-c}}
\subsubsection[{caribou\-\_\-queue\-\_\-delete}]{\setlength{\rightskip}{0pt plus 5cm}void caribou\-\_\-queue\-\_\-delete (
\begin{DoxyParamCaption}
\item[{{\bf caribou\-\_\-queue\-\_\-t} $\ast$}]{queue}
\end{DoxyParamCaption}
)}}\label{queue_8c_ae24737e87b9ca788bd1c56c52d146cde}


Delete a queue previously created with \hyperlink{queue_8c_aa2495b52103af4527f2cfb7ac1fc080e}{caribou\-\_\-queue\-\_\-new()}. 



 
\begin{DoxyParams}{Parameters}
{\em queue} & A pointver to the queue to delete. \\
\hline
\end{DoxyParams}


Definition at line 62 of file queue.\-c.



Here is the call graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=262pt]{queue_8c_ae24737e87b9ca788bd1c56c52d146cde_cgraph}
\end{center}
\end{figure}


\hypertarget{queue_8c_a92ad89bd2f4416b144c8a415401d2921}{\index{queue.\-c@{queue.\-c}!caribou\-\_\-queue\-\_\-depth@{caribou\-\_\-queue\-\_\-depth}}
\index{caribou\-\_\-queue\-\_\-depth@{caribou\-\_\-queue\-\_\-depth}!queue.c@{queue.\-c}}
\subsubsection[{caribou\-\_\-queue\-\_\-depth}]{\setlength{\rightskip}{0pt plus 5cm}int caribou\-\_\-queue\-\_\-depth (
\begin{DoxyParamCaption}
\item[{{\bf caribou\-\_\-queue\-\_\-t} $\ast$}]{queue}
\end{DoxyParamCaption}
)}}\label{queue_8c_a92ad89bd2f4416b144c8a415401d2921}


 
\begin{DoxyParams}{Parameters}
{\em queue} & The queue in question. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The depth of the queue in terms of object capacity. 
\end{DoxyReturn}


Definition at line 116 of file queue.\-c.

\hypertarget{queue_8c_a20fa2e6641e882a77337c0a80df25ebf}{\index{queue.\-c@{queue.\-c}!caribou\-\_\-queue\-\_\-empty@{caribou\-\_\-queue\-\_\-empty}}
\index{caribou\-\_\-queue\-\_\-empty@{caribou\-\_\-queue\-\_\-empty}!queue.c@{queue.\-c}}
\subsubsection[{caribou\-\_\-queue\-\_\-empty}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} caribou\-\_\-queue\-\_\-empty (
\begin{DoxyParamCaption}
\item[{{\bf caribou\-\_\-queue\-\_\-t} $\ast$}]{queue}
\end{DoxyParamCaption}
)}}\label{queue_8c_a20fa2e6641e882a77337c0a80df25ebf}


Determin if the queue is empty (count == 0 ). 



 
\begin{DoxyParams}{Parameters}
{\em The} & queue in question. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the queue is empty. 
\end{DoxyReturn}


Definition at line 104 of file queue.\-c.

\hypertarget{queue_8c_a09ef8e27cb7bba8a157f58a4fbbecedb}{\index{queue.\-c@{queue.\-c}!caribou\-\_\-queue\-\_\-first@{caribou\-\_\-queue\-\_\-first}}
\index{caribou\-\_\-queue\-\_\-first@{caribou\-\_\-queue\-\_\-first}!queue.c@{queue.\-c}}
\subsubsection[{caribou\-\_\-queue\-\_\-first}]{\setlength{\rightskip}{0pt plus 5cm}{\bf caribou\-\_\-queue\-\_\-msg\-\_\-t}$\ast$ caribou\-\_\-queue\-\_\-first (
\begin{DoxyParamCaption}
\item[{{\bf caribou\-\_\-queue\-\_\-t} $\ast$}]{queue}
\end{DoxyParamCaption}
)}}\label{queue_8c_a09ef8e27cb7bba8a157f58a4fbbecedb}


Peek at the last message in the queue. 



 
\begin{DoxyParams}{Parameters}
{\em queue} & The queue to operate on. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Return the message pointer or N\-U\-L\-L. 
\end{DoxyReturn}


Definition at line 176 of file queue.\-c.

\hypertarget{queue_8c_aeedb036f330a95543e5d81b11f6538e5}{\index{queue.\-c@{queue.\-c}!caribou\-\_\-queue\-\_\-full@{caribou\-\_\-queue\-\_\-full}}
\index{caribou\-\_\-queue\-\_\-full@{caribou\-\_\-queue\-\_\-full}!queue.c@{queue.\-c}}
\subsubsection[{caribou\-\_\-queue\-\_\-full}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} caribou\-\_\-queue\-\_\-full (
\begin{DoxyParamCaption}
\item[{{\bf caribou\-\_\-queue\-\_\-t} $\ast$}]{queue}
\end{DoxyParamCaption}
)}}\label{queue_8c_aeedb036f330a95543e5d81b11f6538e5}


Determine if the queue is full, meaning count has reached depth. 



 
\begin{DoxyParams}{Parameters}
{\em queue} & The queue in question. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the queue is full. 
\end{DoxyReturn}


Definition at line 91 of file queue.\-c.

\hypertarget{queue_8c_aef004beab1d7cfa37819a0b42911802d}{\index{queue.\-c@{queue.\-c}!caribou\-\_\-queue\-\_\-index\-\_\-of@{caribou\-\_\-queue\-\_\-index\-\_\-of}}
\index{caribou\-\_\-queue\-\_\-index\-\_\-of@{caribou\-\_\-queue\-\_\-index\-\_\-of}!queue.c@{queue.\-c}}
\subsubsection[{caribou\-\_\-queue\-\_\-index\-\_\-of}]{\setlength{\rightskip}{0pt plus 5cm}int caribou\-\_\-queue\-\_\-index\-\_\-of (
\begin{DoxyParamCaption}
\item[{{\bf caribou\-\_\-queue\-\_\-t} $\ast$}]{queue, }
\item[{{\bf caribou\-\_\-queue\-\_\-msg\-\_\-t} $\ast$}]{msg}
\end{DoxyParamCaption}
)}}\label{queue_8c_aef004beab1d7cfa37819a0b42911802d}


Return the index of a particular message in the queue. 



 
\begin{DoxyParams}{Parameters}
{\em queue} & The queue to operate on. \\
\hline
{\em msg} & A pointer to a message. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Return the message index or -\/1. 
\end{DoxyReturn}


Definition at line 294 of file queue.\-c.

\hypertarget{queue_8c_a7cd27221922d6e255e1d273445a7b258}{\index{queue.\-c@{queue.\-c}!caribou\-\_\-queue\-\_\-init@{caribou\-\_\-queue\-\_\-init}}
\index{caribou\-\_\-queue\-\_\-init@{caribou\-\_\-queue\-\_\-init}!queue.c@{queue.\-c}}
\subsubsection[{caribou\-\_\-queue\-\_\-init}]{\setlength{\rightskip}{0pt plus 5cm}{\bf caribou\-\_\-queue\-\_\-t}$\ast$ caribou\-\_\-queue\-\_\-init (
\begin{DoxyParamCaption}
\item[{{\bf caribou\-\_\-queue\-\_\-t} $\ast$}]{queue, }
\item[{int}]{depth, }
\item[{{\bf caribou\-\_\-queue\-\_\-msg\-\_\-t} $\ast$$\ast$}]{msgs}
\end{DoxyParamCaption}
)}}\label{queue_8c_a7cd27221922d6e255e1d273445a7b258}


initialize a queue where storage has been pre-\/allocated. 



 
\begin{DoxyParams}{Parameters}
{\em queue} & A pointer to the queue to initialize. \\
\hline
{\em depth} & The depth of the queue in terms of number of pointers. \\
\hline
\end{DoxyParams}


Definition at line 77 of file queue.\-c.

\hypertarget{queue_8c_a31fd6a3e814d22360eca137f9130220d}{\index{queue.\-c@{queue.\-c}!caribou\-\_\-queue\-\_\-last@{caribou\-\_\-queue\-\_\-last}}
\index{caribou\-\_\-queue\-\_\-last@{caribou\-\_\-queue\-\_\-last}!queue.c@{queue.\-c}}
\subsubsection[{caribou\-\_\-queue\-\_\-last}]{\setlength{\rightskip}{0pt plus 5cm}{\bf caribou\-\_\-queue\-\_\-msg\-\_\-t}$\ast$ caribou\-\_\-queue\-\_\-last (
\begin{DoxyParamCaption}
\item[{{\bf caribou\-\_\-queue\-\_\-t} $\ast$}]{queue}
\end{DoxyParamCaption}
)}}\label{queue_8c_a31fd6a3e814d22360eca137f9130220d}


Peek at the last message in the queue. 



 
\begin{DoxyParams}{Parameters}
{\em queue} & The queue to operate on. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Return the message pointer or N\-U\-L\-L. 
\end{DoxyReturn}


Definition at line 159 of file queue.\-c.

\hypertarget{queue_8c_aa2495b52103af4527f2cfb7ac1fc080e}{\index{queue.\-c@{queue.\-c}!caribou\-\_\-queue\-\_\-new@{caribou\-\_\-queue\-\_\-new}}
\index{caribou\-\_\-queue\-\_\-new@{caribou\-\_\-queue\-\_\-new}!queue.c@{queue.\-c}}
\subsubsection[{caribou\-\_\-queue\-\_\-new}]{\setlength{\rightskip}{0pt plus 5cm}{\bf caribou\-\_\-queue\-\_\-t}$\ast$ caribou\-\_\-queue\-\_\-new (
\begin{DoxyParamCaption}
\item[{int}]{depth}
\end{DoxyParamCaption}
)}}\label{queue_8c_aa2495b52103af4527f2cfb7ac1fc080e}


Allocate and initialize a new queue on the stack. 



 
\begin{DoxyParams}{Parameters}
{\em depth} & The depth of the queue expressed in the number of pointers. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to the new queue or N\-U\-L\-L if allocation failed. 
\end{DoxyReturn}


Definition at line 27 of file queue.\-c.



Here is the call graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=272pt]{queue_8c_aa2495b52103af4527f2cfb7ac1fc080e_cgraph}
\end{center}
\end{figure}


\hypertarget{queue_8c_acf810b7a80cecc731fec74c95fbfaaf5}{\index{queue.\-c@{queue.\-c}!caribou\-\_\-queue\-\_\-post@{caribou\-\_\-queue\-\_\-post}}
\index{caribou\-\_\-queue\-\_\-post@{caribou\-\_\-queue\-\_\-post}!queue.c@{queue.\-c}}
\subsubsection[{caribou\-\_\-queue\-\_\-post}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} caribou\-\_\-queue\-\_\-post (
\begin{DoxyParamCaption}
\item[{{\bf caribou\-\_\-queue\-\_\-t} $\ast$}]{queue, }
\item[{{\bf caribou\-\_\-queue\-\_\-msg\-\_\-t} $\ast$}]{msg, }
\item[{{\bf caribou\-\_\-tick\-\_\-t}}]{timeout}
\end{DoxyParamCaption}
)}}\label{queue_8c_acf810b7a80cecc731fec74c95fbfaaf5}


Post a message to the queue and block while there is no space in the queue. 



 
\begin{DoxyParams}{Parameters}
{\em queue} & The queue to operate on. \\
\hline
{\em msg} & A pointer to the message to insert. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
If the message was posted return true. 
\end{DoxyReturn}


Definition at line 142 of file queue.\-c.



Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{queue_8c_acf810b7a80cecc731fec74c95fbfaaf5_cgraph}
\end{center}
\end{figure}


\hypertarget{queue_8c_aad9aa6d2e39a5024ff4162e7604b6c58}{\index{queue.\-c@{queue.\-c}!caribou\-\_\-queue\-\_\-rotate@{caribou\-\_\-queue\-\_\-rotate}}
\index{caribou\-\_\-queue\-\_\-rotate@{caribou\-\_\-queue\-\_\-rotate}!queue.c@{queue.\-c}}
\subsubsection[{caribou\-\_\-queue\-\_\-rotate}]{\setlength{\rightskip}{0pt plus 5cm}{\bf caribou\-\_\-queue\-\_\-msg\-\_\-t}$\ast$ caribou\-\_\-queue\-\_\-rotate (
\begin{DoxyParamCaption}
\item[{{\bf caribou\-\_\-queue\-\_\-t} $\ast$}]{queue}
\end{DoxyParamCaption}
)}}\label{queue_8c_aad9aa6d2e39a5024ff4162e7604b6c58}


Rotate the messages in the queue, first-\/$>$last. 



 
\begin{DoxyParams}{Parameters}
{\em queue} & The queue to operate on. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The first item in the queue or N\-U\-L\-L. 
\end{DoxyReturn}


Definition at line 337 of file queue.\-c.

\hypertarget{queue_8c_a75ecd456ece45fa3df294376c5439a30}{\index{queue.\-c@{queue.\-c}!caribou\-\_\-queue\-\_\-swap@{caribou\-\_\-queue\-\_\-swap}}
\index{caribou\-\_\-queue\-\_\-swap@{caribou\-\_\-queue\-\_\-swap}!queue.c@{queue.\-c}}
\subsubsection[{caribou\-\_\-queue\-\_\-swap}]{\setlength{\rightskip}{0pt plus 5cm}{\bf caribou\-\_\-queue\-\_\-msg\-\_\-t}$\ast$ caribou\-\_\-queue\-\_\-swap (
\begin{DoxyParamCaption}
\item[{{\bf caribou\-\_\-queue\-\_\-t} $\ast$}]{queue, }
\item[{int}]{a, }
\item[{int}]{b}
\end{DoxyParamCaption}
)}}\label{queue_8c_a75ecd456ece45fa3df294376c5439a30}


Swap two messages in the queue. 



 
\begin{DoxyParams}{Parameters}
{\em queue} & The queue to operate on. \\
\hline
{\em a} & message A \\
\hline
{\em b} & message B \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The first item in the queue or N\-U\-L\-L. 
\end{DoxyReturn}


Definition at line 317 of file queue.\-c.

\hypertarget{queue_8c_a8d7a08efe96eeec4c021856517537815}{\index{queue.\-c@{queue.\-c}!caribou\-\_\-queue\-\_\-take\-\_\-at@{caribou\-\_\-queue\-\_\-take\-\_\-at}}
\index{caribou\-\_\-queue\-\_\-take\-\_\-at@{caribou\-\_\-queue\-\_\-take\-\_\-at}!queue.c@{queue.\-c}}
\subsubsection[{caribou\-\_\-queue\-\_\-take\-\_\-at}]{\setlength{\rightskip}{0pt plus 5cm}{\bf caribou\-\_\-queue\-\_\-msg\-\_\-t}$\ast$ caribou\-\_\-queue\-\_\-take\-\_\-at (
\begin{DoxyParamCaption}
\item[{{\bf caribou\-\_\-queue\-\_\-t} $\ast$}]{queue, }
\item[{int}]{index, }
\item[{{\bf caribou\-\_\-tick\-\_\-t}}]{timeout}
\end{DoxyParamCaption}
)}}\label{queue_8c_a8d7a08efe96eeec4c021856517537815}


Take a message our of the queue at an index. 



 
\begin{DoxyParams}{Parameters}
{\em queue} & The queue to operate on. \\
\hline
{\em index} & The index if the message to take. \\
\hline
{\em timeout} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The first item in the queue or N\-U\-L\-L. 
\end{DoxyReturn}


Definition at line 363 of file queue.\-c.



Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{queue_8c_a8d7a08efe96eeec4c021856517537815_cgraph}
\end{center}
\end{figure}


\hypertarget{queue_8c_af1f017ef81808a437d17a34df6a8e2b5}{\index{queue.\-c@{queue.\-c}!caribou\-\_\-queue\-\_\-take\-\_\-first@{caribou\-\_\-queue\-\_\-take\-\_\-first}}
\index{caribou\-\_\-queue\-\_\-take\-\_\-first@{caribou\-\_\-queue\-\_\-take\-\_\-first}!queue.c@{queue.\-c}}
\subsubsection[{caribou\-\_\-queue\-\_\-take\-\_\-first}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} caribou\-\_\-queue\-\_\-take\-\_\-first (
\begin{DoxyParamCaption}
\item[{{\bf caribou\-\_\-queue\-\_\-t} $\ast$}]{queue, }
\item[{{\bf caribou\-\_\-queue\-\_\-msg\-\_\-t} $\ast$$\ast$}]{msg, }
\item[{{\bf caribou\-\_\-tick\-\_\-t}}]{timeout}
\end{DoxyParamCaption}
)}}\label{queue_8c_af1f017ef81808a437d17a34df6a8e2b5}


Fetch first message from the queue, or wait. 



 
\begin{DoxyParams}{Parameters}
{\em queue} & The queue to operate on. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Return the message pointer or N\-U\-L\-L. 
\end{DoxyReturn}


Definition at line 207 of file queue.\-c.



Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{queue_8c_af1f017ef81808a437d17a34df6a8e2b5_cgraph}
\end{center}
\end{figure}


\hypertarget{queue_8c_a728c667fc5ae7cc728cdd8a062187fbb}{\index{queue.\-c@{queue.\-c}!caribou\-\_\-queue\-\_\-take\-\_\-last@{caribou\-\_\-queue\-\_\-take\-\_\-last}}
\index{caribou\-\_\-queue\-\_\-take\-\_\-last@{caribou\-\_\-queue\-\_\-take\-\_\-last}!queue.c@{queue.\-c}}
\subsubsection[{caribou\-\_\-queue\-\_\-take\-\_\-last}]{\setlength{\rightskip}{0pt plus 5cm}{\bf caribou\-\_\-queue\-\_\-msg\-\_\-t}$\ast$ caribou\-\_\-queue\-\_\-take\-\_\-last (
\begin{DoxyParamCaption}
\item[{{\bf caribou\-\_\-queue\-\_\-t} $\ast$}]{queue, }
\item[{{\bf caribou\-\_\-tick\-\_\-t}}]{timeout}
\end{DoxyParamCaption}
)}}\label{queue_8c_a728c667fc5ae7cc728cdd8a062187fbb}


Fetch last message from the queue. 



 
\begin{DoxyParams}{Parameters}
{\em queue} & The queue to operate on. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Return the message pointer or N\-U\-L\-L. 
\end{DoxyReturn}


Definition at line 193 of file queue.\-c.



Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{queue_8c_a728c667fc5ae7cc728cdd8a062187fbb_cgraph}
\end{center}
\end{figure}


\hypertarget{queue_8c_ae2a7e44ef2c1c2f2b2387381eb39401e}{\index{queue.\-c@{queue.\-c}!caribou\-\_\-queue\-\_\-try\-\_\-post@{caribou\-\_\-queue\-\_\-try\-\_\-post}}
\index{caribou\-\_\-queue\-\_\-try\-\_\-post@{caribou\-\_\-queue\-\_\-try\-\_\-post}!queue.c@{queue.\-c}}
\subsubsection[{caribou\-\_\-queue\-\_\-try\-\_\-post}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} caribou\-\_\-queue\-\_\-try\-\_\-post (
\begin{DoxyParamCaption}
\item[{{\bf caribou\-\_\-queue\-\_\-t} $\ast$}]{queue, }
\item[{{\bf caribou\-\_\-queue\-\_\-msg\-\_\-t} $\ast$}]{msg}
\end{DoxyParamCaption}
)}}\label{queue_8c_ae2a7e44ef2c1c2f2b2387381eb39401e}


Post a message to the queue and don't block if there is no space in the queue. 



 
\begin{DoxyParams}{Parameters}
{\em queue} & The queue to operate on. \\
\hline
{\em msg} & he message to insert. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if message was posted 
\end{DoxyReturn}


Definition at line 227 of file queue.\-c.



Here is the call graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=282pt]{queue_8c_ae2a7e44ef2c1c2f2b2387381eb39401e_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=340pt]{queue_8c_ae2a7e44ef2c1c2f2b2387381eb39401e_icgraph}
\end{center}
\end{figure}


\hypertarget{queue_8c_a3ee03ca408c01171beed3ae7d6fa02d2}{\index{queue.\-c@{queue.\-c}!caribou\-\_\-queue\-\_\-try\-\_\-take\-\_\-at@{caribou\-\_\-queue\-\_\-try\-\_\-take\-\_\-at}}
\index{caribou\-\_\-queue\-\_\-try\-\_\-take\-\_\-at@{caribou\-\_\-queue\-\_\-try\-\_\-take\-\_\-at}!queue.c@{queue.\-c}}
\subsubsection[{caribou\-\_\-queue\-\_\-try\-\_\-take\-\_\-at}]{\setlength{\rightskip}{0pt plus 5cm}{\bf caribou\-\_\-queue\-\_\-msg\-\_\-t}$\ast$ caribou\-\_\-queue\-\_\-try\-\_\-take\-\_\-at (
\begin{DoxyParamCaption}
\item[{{\bf caribou\-\_\-queue\-\_\-t} $\ast$}]{queue, }
\item[{int}]{index}
\end{DoxyParamCaption}
)}}\label{queue_8c_a3ee03ca408c01171beed3ae7d6fa02d2}


Take a message our of the queue at an index. 



 
\begin{DoxyParams}{Parameters}
{\em queue} & The queue to operate on. \\
\hline
{\em index} & The index if the message to take. \\
\hline
{\em timeout} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The first item in the queue or N\-U\-L\-L. 
\end{DoxyReturn}


Definition at line 380 of file queue.\-c.



Here is the call graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=312pt]{queue_8c_a3ee03ca408c01171beed3ae7d6fa02d2_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{queue_8c_a3ee03ca408c01171beed3ae7d6fa02d2_icgraph}
\end{center}
\end{figure}


\hypertarget{queue_8c_aca259d208e112bbb0fdd866a6d12c506}{\index{queue.\-c@{queue.\-c}!caribou\-\_\-queue\-\_\-try\-\_\-take\-\_\-first@{caribou\-\_\-queue\-\_\-try\-\_\-take\-\_\-first}}
\index{caribou\-\_\-queue\-\_\-try\-\_\-take\-\_\-first@{caribou\-\_\-queue\-\_\-try\-\_\-take\-\_\-first}!queue.c@{queue.\-c}}
\subsubsection[{caribou\-\_\-queue\-\_\-try\-\_\-take\-\_\-first}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} caribou\-\_\-queue\-\_\-try\-\_\-take\-\_\-first (
\begin{DoxyParamCaption}
\item[{{\bf caribou\-\_\-queue\-\_\-t} $\ast$}]{queue, }
\item[{{\bf caribou\-\_\-queue\-\_\-msg\-\_\-t} $\ast$$\ast$}]{msg}
\end{DoxyParamCaption}
)}}\label{queue_8c_aca259d208e112bbb0fdd866a6d12c506}


Fetch first message from the queue. 



 
\begin{DoxyParams}{Parameters}
{\em queue} & The queue to operate on. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Return the message pointer or N\-U\-L\-L. 
\end{DoxyReturn}


Definition at line 272 of file queue.\-c.



Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=298pt]{queue_8c_aca259d208e112bbb0fdd866a6d12c506_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=340pt]{queue_8c_aca259d208e112bbb0fdd866a6d12c506_icgraph}
\end{center}
\end{figure}


\hypertarget{queue_8c_a59f9704c4f0e348d58243de5c5b3d5d5}{\index{queue.\-c@{queue.\-c}!caribou\-\_\-queue\-\_\-try\-\_\-take\-\_\-last@{caribou\-\_\-queue\-\_\-try\-\_\-take\-\_\-last}}
\index{caribou\-\_\-queue\-\_\-try\-\_\-take\-\_\-last@{caribou\-\_\-queue\-\_\-try\-\_\-take\-\_\-last}!queue.c@{queue.\-c}}
\subsubsection[{caribou\-\_\-queue\-\_\-try\-\_\-take\-\_\-last}]{\setlength{\rightskip}{0pt plus 5cm}{\bf caribou\-\_\-queue\-\_\-msg\-\_\-t}$\ast$ caribou\-\_\-queue\-\_\-try\-\_\-take\-\_\-last (
\begin{DoxyParamCaption}
\item[{{\bf caribou\-\_\-queue\-\_\-t} $\ast$}]{queue}
\end{DoxyParamCaption}
)}}\label{queue_8c_a59f9704c4f0e348d58243de5c5b3d5d5}


Fetch last message from the queue. 



 
\begin{DoxyParams}{Parameters}
{\em queue} & The queue to operate on. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Return the message pointer or N\-U\-L\-L. 
\end{DoxyReturn}


Definition at line 255 of file queue.\-c.



Here is the caller graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{queue_8c_a59f9704c4f0e348d58243de5c5b3d5d5_icgraph}
\end{center}
\end{figure}


